<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>JMR800 v2: HardwareManager Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">JMR800 v2
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('class_hardware_manager.html','','class_hardware_manager-members'); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">HardwareManager Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Handles initialization, polling, and control of physical interface components such as buttons, knobs, and LED indicators.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_hardware_manager_8h_source.html">HardwareManager.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for HardwareManager:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" loading="lazy" frameborder="0" src="class_hardware_manager__coll__graph.svg" width="195" height="195"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pub-methods" class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:acbee566327ea9e237566823f46dfcac5" id="r_acbee566327ea9e237566823f46dfcac5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acbee566327ea9e237566823f46dfcac5">init</a> ()</td></tr>
<tr class="memdesc:acbee566327ea9e237566823f46dfcac5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes hardware peripherals: GPIO, ADC, encoder, etc.  <br /></td></tr>
<tr class="memitem:a6f45e846ef082a37a2bd2d3edf9efb5b" id="r_a6f45e846ef082a37a2bd2d3edf9efb5b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6f45e846ef082a37a2bd2d3edf9efb5b">loop</a> ()</td></tr>
<tr class="memdesc:a6f45e846ef082a37a2bd2d3edf9efb5b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main polling loop, throttled to a fixed interval.  <br /></td></tr>
<tr class="memitem:a0527305ad85e4875e2da02b05664fda1" id="r_a0527305ad85e4875e2da02b05664fda1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0527305ad85e4875e2da02b05664fda1">~HardwareManager</a> ()</td></tr>
<tr class="memdesc:a0527305ad85e4875e2da02b05664fda1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <br /></td></tr>
<tr class="memitem:aaf70a4835af8352a2af86b9679b89d41" id="r_aaf70a4835af8352a2af86b9679b89d41"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aaf70a4835af8352a2af86b9679b89d41">loadKnobs</a> ()</td></tr>
<tr class="memdesc:aaf70a4835af8352a2af86b9679b89d41"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loads the knob configuration from EEPROM or persistent storage.  <br /></td></tr>
<tr class="memitem:a323515123ec033d7e4761cd1ad0f7674" id="r_a323515123ec033d7e4761cd1ad0f7674"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a323515123ec033d7e4761cd1ad0f7674">saveKnobs</a> ()</td></tr>
<tr class="memdesc:a323515123ec033d7e4761cd1ad0f7674"><td class="mdescLeft">&#160;</td><td class="mdescRight">Saves the current knob configuration to EEPROM.  <br /></td></tr>
<tr class="memitem:a389138f42e4c27721988b5f6482a47c1" id="r_a389138f42e4c27721988b5f6482a47c1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a389138f42e4c27721988b5f6482a47c1">getKnobValue</a> (uint index)</td></tr>
<tr class="memdesc:a389138f42e4c27721988b5f6482a47c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the current analog value of the specified knob.  <br /></td></tr>
<tr class="memitem:a5ad8de42c31a9691549f22b7157919e2" id="r_a5ad8de42c31a9691549f22b7157919e2"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5ad8de42c31a9691549f22b7157919e2">getEncoderZeroTo</a> (long divisor)</td></tr>
<tr class="memdesc:a5ad8de42c31a9691549f22b7157919e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a normalized encoder value in range [0, divisor).  <br /></td></tr>
<tr class="memitem:a0b6ee88f01f7908e5d0bdd7f366164f4" id="r_a0b6ee88f01f7908e5d0bdd7f366164f4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0b6ee88f01f7908e5d0bdd7f366164f4">getEncoderSwitchStatus</a> ()</td></tr>
<tr class="memdesc:a0b6ee88f01f7908e5d0bdd7f366164f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the encoder button is currently pressed.  <br /></td></tr>
<tr class="memitem:aaa16c700ab58fcc9b2b8a33ff4f3090d" id="r_aaa16c700ab58fcc9b2b8a33ff4f3090d"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aaa16c700ab58fcc9b2b8a33ff4f3090d">getEncoderValue</a> ()</td></tr>
<tr class="memdesc:aaa16c700ab58fcc9b2b8a33ff4f3090d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns raw encoder position.  <br /></td></tr>
<tr class="memitem:ac05c3327a4bedb62f953d15f64c98348" id="r_ac05c3327a4bedb62f953d15f64c98348"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac05c3327a4bedb62f953d15f64c98348">isButtonPressed</a> (uint index)</td></tr>
<tr class="memdesc:ac05c3327a4bedb62f953d15f64c98348"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the specified button is currently pressed.  <br /></td></tr>
<tr class="memitem:a73027e69fad5aa613c3fe4ed0af7b6da" id="r_a73027e69fad5aa613c3fe4ed0af7b6da"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a73027e69fad5aa613c3fe4ed0af7b6da">buttonStateChanged</a> (uint index, bool bDirection, bool bClearFlag)</td></tr>
<tr class="memdesc:a73027e69fad5aa613c3fe4ed0af7b6da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Detects state changes on buttons.  <br /></td></tr>
<tr class="memitem:a245e2fe92421b95d708377e7b6ca6711" id="r_a245e2fe92421b95d708377e7b6ca6711"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a245e2fe92421b95d708377e7b6ca6711">encoderSwitchStateChanged</a> (bool upThenDown, bool clearFlag)</td></tr>
<tr class="memdesc:a245e2fe92421b95d708377e7b6ca6711"><td class="mdescLeft">&#160;</td><td class="mdescRight">Detects state changes on encoder button.  <br /></td></tr>
<tr class="memitem:a518b4b1ddd898bd2a962392af422614f" id="r_a518b4b1ddd898bd2a962392af422614f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a518b4b1ddd898bd2a962392af422614f">setButtonLights</a> (uint buttonId, bool red, bool green)</td></tr>
<tr class="memdesc:a518b4b1ddd898bd2a962392af422614f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the LED colors for a button.  <br /></td></tr>
<tr class="memitem:a598987bc3663dc83206abb5d1d2119f5" id="r_a598987bc3663dc83206abb5d1d2119f5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a598987bc3663dc83206abb5d1d2119f5">greenIsLit</a> (uint buttonId)</td></tr>
<tr class="memdesc:a598987bc3663dc83206abb5d1d2119f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if the green LED is lit for a given button.  <br /></td></tr>
<tr class="memitem:abd678fae41765624bb05aed23f7a1785" id="r_abd678fae41765624bb05aed23f7a1785"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abd678fae41765624bb05aed23f7a1785">redIsLit</a> (uint buttonId)</td></tr>
<tr class="memdesc:abd678fae41765624bb05aed23f7a1785"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if the red LED is lit for a given button.  <br /></td></tr>
<tr class="memitem:aac5863c15f10f28dc888d496eadf0d70" id="r_aac5863c15f10f28dc888d496eadf0d70"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aac5863c15f10f28dc888d496eadf0d70">restoreLedState</a> ()</td></tr>
<tr class="memdesc:aac5863c15f10f28dc888d496eadf0d70"><td class="mdescLeft">&#160;</td><td class="mdescRight">Restores the previously saved LED state.  <br /></td></tr>
<tr class="memitem:a9e49dcb61d28890a831708d669eebed6" id="r_a9e49dcb61d28890a831708d669eebed6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9e49dcb61d28890a831708d669eebed6">saveLedState</a> ()</td></tr>
<tr class="memdesc:a9e49dcb61d28890a831708d669eebed6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Saves the current LED state to internal memory.  <br /></td></tr>
<tr class="memitem:acc9496217a58084ae0af83c58cf658ea" id="r_acc9496217a58084ae0af83c58cf658ea"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acc9496217a58084ae0af83c58cf658ea">sendParameter</a> (uint8_t paramID, uint8_t value)</td></tr>
<tr class="memdesc:acc9496217a58084ae0af83c58cf658ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a parameter command over the serial protocol.  <br /></td></tr>
<tr class="memitem:a7777c52d0ef47ddf60e84beeedf39cc0" id="r_a7777c52d0ef47ddf60e84beeedf39cc0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7777c52d0ef47ddf60e84beeedf39cc0">resetEncoder</a> (uint i)</td></tr>
<tr class="memdesc:a7777c52d0ef47ddf60e84beeedf39cc0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets the encoderâ€™s internal count to a specific value.  <br /></td></tr>
<tr class="memitem:af204c2f4a3e3e12dbd79a9c910f5979c" id="r_af204c2f4a3e3e12dbd79a9c910f5979c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structknob_config.html">knobConfig</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af204c2f4a3e3e12dbd79a9c910f5979c">getKnobConfiguration</a> (uint i)</td></tr>
<tr class="memdesc:af204c2f4a3e3e12dbd79a9c910f5979c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the configuration associated with a given knob.  <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pri-methods" class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a4a7cab7ae0b5071b0557905000f46806" id="r_a4a7cab7ae0b5071b0557905000f46806"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4a7cab7ae0b5071b0557905000f46806">gatherControlSettings</a> ()</td></tr>
<tr class="memdesc:a4a7cab7ae0b5071b0557905000f46806"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads all analog and digital inputs.  <br /></td></tr>
<tr class="memitem:ab2810a18f676cb33b5696d59a61caf1b" id="r_ab2810a18f676cb33b5696d59a61caf1b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab2810a18f676cb33b5696d59a61caf1b">gatherPotentiometerValues</a> ()</td></tr>
<tr class="memdesc:ab2810a18f676cb33b5696d59a61caf1b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads and stores current potentiometer values.  <br /></td></tr>
<tr class="memitem:aef067455e10624433ddd360794012151" id="r_aef067455e10624433ddd360794012151"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aef067455e10624433ddd360794012151">setAddressPins</a> (uint val)</td></tr>
<tr class="memdesc:aef067455e10624433ddd360794012151"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the MUX address lines.  <br /></td></tr>
<tr class="memitem:a04393ce5c07558f919f4473049543260" id="r_a04393ce5c07558f919f4473049543260"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a04393ce5c07558f919f4473049543260">updateEncoder</a> ()</td></tr>
<tr class="memdesc:a04393ce5c07558f919f4473049543260"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads and updates encoder state.  <br /></td></tr>
<tr class="memitem:a69487280dacad30fc7fa1fd58e9e48ca" id="r_a69487280dacad30fc7fa1fd58e9e48ca"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a69487280dacad30fc7fa1fd58e9e48ca">writeLedRegistersToHardware</a> ()</td></tr>
<tr class="memdesc:a69487280dacad30fc7fa1fd58e9e48ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pushes current LED state to shift registers.  <br /></td></tr>
<tr class="memitem:a8ccfd2a833eb6826587dba7a4d97c331" id="r_a8ccfd2a833eb6826587dba7a4d97c331"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8ccfd2a833eb6826587dba7a4d97c331">knobChanged</a> (int i)</td></tr>
<tr class="memdesc:a8ccfd2a833eb6826587dba7a4d97c331"><td class="mdescLeft">&#160;</td><td class="mdescRight">Detects change in knob value.  <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pri-static-methods" class="groupheader"><a id="pri-static-methods" name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:ae436f35ee0851ca0dad3f0f0c9ad83ea" id="r_ae436f35ee0851ca0dad3f0f0c9ad83ea"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae436f35ee0851ca0dad3f0f0c9ad83ea">onPG800ClockFall</a> ()</td></tr>
<tr class="memdesc:ae436f35ee0851ca0dad3f0f0c9ad83ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">ISR for clocking out serial bits.  <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pri-attribs" class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a10c40b44979b1ee9d1de1befd26d3a44" id="r_a10c40b44979b1ee9d1de1befd26d3a44"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a10c40b44979b1ee9d1de1befd26d3a44">iGatherCtr</a> = 0</td></tr>
<tr class="memitem:a26b5a0c399598a73399c33cb42195404" id="r_a26b5a0c399598a73399c33cb42195404"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a26b5a0c399598a73399c33cb42195404">lastPollTime</a> = 0</td></tr>
<tr class="memitem:a6a90392542468cb4d057b7e1aa3b2aad" id="r_a6a90392542468cb4d057b7e1aa3b2aad"><td class="memItemLeft" align="right" valign="top">const unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6a90392542468cb4d057b7e1aa3b2aad">hardwareManagerPollIntervalMS</a> = 50</td></tr>
<tr class="memitem:a48dad7203dfb3cdaa646678c0f4f16b4" id="r_a48dad7203dfb3cdaa646678c0f4f16b4"><td class="memItemLeft" align="right" valign="top">Encoder *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a48dad7203dfb3cdaa646678c0f4f16b4">encoderKnob</a> = nullptr</td></tr>
<tr class="memitem:ac54dcfe2d8157035648e18095430633d" id="r_ac54dcfe2d8157035648e18095430633d"><td class="memItemLeft" align="right" valign="top">uint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac54dcfe2d8157035648e18095430633d">enablePins</a> [<a class="el" href="defines_8h.html#a006a61e230d20d998a18bf2fbf562947">NUM_MUXES</a>] = { <a class="el" href="defines_8h.html#a7d38c282cd5f6ec99da0b3b37b97315d">U2_ENABLE_PIN</a>, <a class="el" href="defines_8h.html#a58393f61259eb81a9d1094281e512fa4">U3_ENABLE_PIN</a>, <a class="el" href="defines_8h.html#a9db36ac7b0b3e89a85b6233ed896eac9">U4_ENABLE_PIN</a>, <a class="el" href="defines_8h.html#ad75a02c26f8ce2df2c12638f44f3e709">U6_ENABLE_PIN</a> }</td></tr>
<tr class="memdesc:ac54dcfe2d8157035648e18095430633d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable lines for each analog multiplexer.  <br /></td></tr>
<tr class="memitem:a315dc1caa02e610f91b1a612bda30b3f" id="r_a315dc1caa02e610f91b1a612bda30b3f"><td class="memItemLeft" align="right" valign="top">uint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a315dc1caa02e610f91b1a612bda30b3f">MuxAddressPins</a> [4] = { <a class="el" href="defines_8h.html#a44723db4e11f34a0ad8759574d637e1d">S0_PIN</a>, <a class="el" href="defines_8h.html#a8766620bcdd3b4ffdae69e99def6458e">S1_PIN</a>, <a class="el" href="defines_8h.html#ad50338afe7b10c1aa188fde925109853">S2_PIN</a>, <a class="el" href="defines_8h.html#aeff05ff93deed7ec7c197dfded858bda">S3_PIN</a> }</td></tr>
<tr class="memdesc:a315dc1caa02e610f91b1a612bda30b3f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable lines for each analog multiplexer.  <br /></td></tr>
<tr class="memitem:a8f6720aad631557b7254da5f7ff356ed" id="r_a8f6720aad631557b7254da5f7ff356ed"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8f6720aad631557b7254da5f7ff356ed">AnalogValues</a> [16][<a class="el" href="defines_8h.html#a006a61e230d20d998a18bf2fbf562947">NUM_MUXES</a>]</td></tr>
<tr class="memdesc:a8f6720aad631557b7254da5f7ff356ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Latest analog readings from all knobs.  <br /></td></tr>
<tr class="memitem:a53cce0263086fe32524936c007293847" id="r_a53cce0263086fe32524936c007293847"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a53cce0263086fe32524936c007293847">oldAnalogValues</a> [16][<a class="el" href="defines_8h.html#a006a61e230d20d998a18bf2fbf562947">NUM_MUXES</a>]</td></tr>
<tr class="memdesc:a53cce0263086fe32524936c007293847"><td class="mdescLeft">&#160;</td><td class="mdescRight">Previous readings for comparison.  <br /></td></tr>
<tr class="memitem:a0a79ed924f6537f4b28e17bfc495e840" id="r_a0a79ed924f6537f4b28e17bfc495e840"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0a79ed924f6537f4b28e17bfc495e840">buttonStates</a> [<a class="el" href="defines_8h.html#a45add6b39f5b0c0137de978b90e26b5d">NUM_BUTTONS</a>] = {0}</td></tr>
<tr class="memdesc:a0a79ed924f6537f4b28e17bfc495e840"><td class="mdescLeft">&#160;</td><td class="mdescRight">Current digital button states.  <br /></td></tr>
<tr class="memitem:ad30a99fa8e93d030b058e41f6e60dcae" id="r_ad30a99fa8e93d030b058e41f6e60dcae"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad30a99fa8e93d030b058e41f6e60dcae">prevButtonStates</a> [<a class="el" href="defines_8h.html#a45add6b39f5b0c0137de978b90e26b5d">NUM_BUTTONS</a>] = {0}</td></tr>
<tr class="memdesc:ad30a99fa8e93d030b058e41f6e60dcae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Previous digital button states.  <br /></td></tr>
<tr class="memitem:ae270bdec0bf6dbb5a0558aec3858c5ce" id="r_ae270bdec0bf6dbb5a0558aec3858c5ce"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae270bdec0bf6dbb5a0558aec3858c5ce">ledstate</a></td></tr>
<tr class="memdesc:ae270bdec0bf6dbb5a0558aec3858c5ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bitfield representing current LED state.  <br /></td></tr>
<tr class="memitem:ab14567b2aa576fcbe6f8be034b3c6427" id="r_ab14567b2aa576fcbe6f8be034b3c6427"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab14567b2aa576fcbe6f8be034b3c6427">prevLedState</a></td></tr>
<tr class="memdesc:ab14567b2aa576fcbe6f8be034b3c6427"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bitfield representing previous LED state.  <br /></td></tr>
<tr class="memitem:a0f5f92a4bb0414fb777bf27a59530b0b" id="r_a0f5f92a4bb0414fb777bf27a59530b0b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0f5f92a4bb0414fb777bf27a59530b0b">bEncoderBtn</a> = false</td></tr>
<tr class="memdesc:a0f5f92a4bb0414fb777bf27a59530b0b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Current encoder button state.  <br /></td></tr>
<tr class="memitem:ac803df51783435becad4e0719e3de1d3" id="r_ac803df51783435becad4e0719e3de1d3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac803df51783435becad4e0719e3de1d3">bPrevEncoderBtn</a> = false</td></tr>
<tr class="memdesc:ac803df51783435becad4e0719e3de1d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Previous encoder button state.  <br /></td></tr>
<tr class="memitem:af4761cefe4c6093de549ae7e5dde75b9" id="r_af4761cefe4c6093de549ae7e5dde75b9"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af4761cefe4c6093de549ae7e5dde75b9">lastEncoderPosition</a> = 0</td></tr>
<tr class="memdesc:af4761cefe4c6093de549ae7e5dde75b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Last recorded rotary encoder position.  <br /></td></tr>
<tr class="memitem:a9b7836f6542d76f66a18dd266c8ff268" id="r_a9b7836f6542d76f66a18dd266c8ff268"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9b7836f6542d76f66a18dd266c8ff268">lastPotScanTime</a> = 0</td></tr>
<tr class="memitem:a2e85929fcd71e50c6913d623577dbeb8" id="r_a2e85929fcd71e50c6913d623577dbeb8"><td class="memItemLeft" align="right" valign="top">ADC&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2e85929fcd71e50c6913d623577dbeb8">adc</a></td></tr>
<tr class="memdesc:a2e85929fcd71e50c6913d623577dbeb8"><td class="mdescLeft">&#160;</td><td class="mdescRight">ADC manager for Teensy analog reads.  <br /></td></tr>
<tr class="memitem:a8ad6a46ff803f39bbe5c7b99d5dc1118" id="r_a8ad6a46ff803f39bbe5c7b99d5dc1118"><td class="memItemLeft" align="right" valign="top">const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8ad6a46ff803f39bbe5c7b99d5dc1118">analogInPins</a> [<a class="el" href="defines_8h.html#a006a61e230d20d998a18bf2fbf562947">NUM_MUXES</a>] = { <a class="el" href="defines_8h.html#a801cef580ffdeccbec9c07edd619158d">U2_ANALOG_IN_PIN</a>, <a class="el" href="defines_8h.html#a185a9265a6f3f9c91ed062d5e5998ee9">U3_ANALOG_IN_PIN</a>, <a class="el" href="defines_8h.html#a558ac377e980e1436207d781314b30b4">U4_ANALOG_IN_PIN</a> , <a class="el" href="defines_8h.html#a764b847ee654d0221b8cb323de5d95c7">U6_ANALOG_IN_PIN</a> }</td></tr>
<tr class="memdesc:a8ad6a46ff803f39bbe5c7b99d5dc1118"><td class="mdescLeft">&#160;</td><td class="mdescRight">ADC pins corresponding to each MUX.  <br /></td></tr>
<tr class="memitem:a627129bb20508846f14c1f62220a4976" id="r_a627129bb20508846f14c1f62220a4976"><td class="memItemLeft" align="right" valign="top">const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a627129bb20508846f14c1f62220a4976">buttonPins</a> [<a class="el" href="defines_8h.html#a45add6b39f5b0c0137de978b90e26b5d">NUM_BUTTONS</a>] = {<a class="el" href="defines_8h.html#a1ee5f4c034a6dbd7f5f9d30a7c7621d7">PUSH_BTN_SW1_PIN</a>,<a class="el" href="defines_8h.html#a3e2406b11040fab176d3ae938bb36fb4">PUSH_BTN_SW2_PIN</a>,<a class="el" href="defines_8h.html#a080eb3794855f7da383bb3d59aa51b86">PUSH_BTN_SW3_PIN</a>,<a class="el" href="defines_8h.html#a541f931e7d08042d778592d4f38bd403">PUSH_BTN_SW4_PIN</a> }</td></tr>
<tr class="memdesc:a627129bb20508846f14c1f62220a4976"><td class="mdescLeft">&#160;</td><td class="mdescRight">GPIO pin numbers for each digital button.  <br /></td></tr>
<tr class="memitem:a75f06e4bc04d08d6be6e61bc7e3880c9" id="r_a75f06e4bc04d08d6be6e61bc7e3880c9"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="struct_sent_command.html">SentCommand</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a75f06e4bc04d08d6be6e61bc7e3880c9">recentCommands</a></td></tr>
<tr class="memdesc:a75f06e4bc04d08d6be6e61bc7e3880c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rolling log of recently sent PG-800 commands.  <br /></td></tr>
<tr class="memitem:ab9756835f0b098ac288628f4c4139ca2" id="r_ab9756835f0b098ac288628f4c4139ca2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structknob_config.html">knobConfig</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab9756835f0b098ac288628f4c4139ca2">knobConfigurations</a> [<a class="el" href="defines_8h.html#a87f435a777fc58e1d3c4630bb8e632b3">NUM_KNOBS</a>]</td></tr>
<tr class="memdesc:ab9756835f0b098ac288628f4c4139ca2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Current knob-to-parameter mapping.  <br /></td></tr>
<tr class="memitem:a5a834a463d4b5ef9e69a37001c60768e" id="r_a5a834a463d4b5ef9e69a37001c60768e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structknob_config.html">knobConfig</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5a834a463d4b5ef9e69a37001c60768e">knobConfigurations_bkup</a> [<a class="el" href="defines_8h.html#a87f435a777fc58e1d3c4630bb8e632b3">NUM_KNOBS</a>]</td></tr>
<tr class="memdesc:a5a834a463d4b5ef9e69a37001c60768e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Backup mapping.  <br /></td></tr>
<tr class="memitem:acf8e46d72eb8cbdf2df757c212d65036" id="r_acf8e46d72eb8cbdf2df757c212d65036"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structknob_config.html">knobConfig</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acf8e46d72eb8cbdf2df757c212d65036">lastKnobConfig</a></td></tr>
<tr class="memdesc:acf8e46d72eb8cbdf2df757c212d65036"><td class="mdescLeft">&#160;</td><td class="mdescRight">Most recent configuration state.  <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pri-static-attribs" class="groupheader"><a id="pri-static-attribs" name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:a2ec9120b97897bbf139ce6364ec245fc" id="r_a2ec9120b97897bbf139ce6364ec245fc"><td class="memItemLeft" align="right" valign="top">static volatile int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2ec9120b97897bbf139ce6364ec245fc">bitIndex</a> = -1</td></tr>
<tr class="memdesc:a2ec9120b97897bbf139ce6364ec245fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Serial transmission bit index.  <br /></td></tr>
<tr class="memitem:acfc375a757daaa27f18d76c67f18307f" id="r_acfc375a757daaa27f18d76c67f18307f"><td class="memItemLeft" align="right" valign="top">static volatile uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acfc375a757daaa27f18d76c67f18307f">sendBuffer</a> = 0</td></tr>
<tr class="memdesc:acfc375a757daaa27f18d76c67f18307f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Serial transmission buffer.  <br /></td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Handles initialization, polling, and control of physical interface components such as buttons, knobs, and LED indicators. </p>

<p class="definition">Definition at line <a class="el" href="_hardware_manager_8h_source.html#l00033">33</a> of file <a class="el" href="_hardware_manager_8h_source.html">HardwareManager.h</a>.</p>
</div><a name="doc-constructors" id="doc-constructors"></a><h2 id="header-doc-constructors" class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a0527305ad85e4875e2da02b05664fda1" name="a0527305ad85e4875e2da02b05664fda1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0527305ad85e4875e2da02b05664fda1">&#9670;&#160;</a></span>~HardwareManager()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HardwareManager::~HardwareManager </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destructor. </p>
<p>Destructor for <a class="el" href="class_hardware_manager.html" title="Handles initialization, polling, and control of physical interface components such as buttons,...">HardwareManager</a>, responsible for freeing allocated memory. </p>

<p class="definition">Definition at line <a class="el" href="_hardware_manager_8cpp_source.html#l00093">93</a> of file <a class="el" href="_hardware_manager_8cpp_source.html">HardwareManager.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   93</span>                                  {</div>
<div class="line"><span class="lineno">   94</span>  <span class="keyword">delete</span> <a class="code hl_variable" href="#a48dad7203dfb3cdaa646678c0f4f16b4">encoderKnob</a>;</div>
<div class="line"><span class="lineno">   95</span>}</div>
<div class="ttc" id="aclass_hardware_manager_html_a48dad7203dfb3cdaa646678c0f4f16b4"><div class="ttname"><a href="#a48dad7203dfb3cdaa646678c0f4f16b4">HardwareManager::encoderKnob</a></div><div class="ttdeci">Encoder * encoderKnob</div><div class="ttdef"><b>Definition</b> <a href="_hardware_manager_8h_source.html#l00038">HardwareManager.h:38</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Member Function Documentation</h2>
<a id="a73027e69fad5aa613c3fe4ed0af7b6da" name="a73027e69fad5aa613c3fe4ed0af7b6da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73027e69fad5aa613c3fe4ed0af7b6da">&#9670;&#160;</a></span>buttonStateChanged()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool HardwareManager::buttonStateChanged </td>
          <td>(</td>
          <td class="paramtype">uint</td>          <td class="paramname"><span class="paramname"><em>index</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>upThenDown</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>clearFlag</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Detects state changes on buttons. </p>
<p>Checks if a specified button changed state in the given direction.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">index</td><td>Button index </td></tr>
    <tr><td class="paramname">bDirection</td><td>If true, only detect rising edge </td></tr>
    <tr><td class="paramname">bClearFlag</td><td>If true, clear state change flag after detection</td></tr>
    <tr><td class="paramname">index</td><td>Button index. </td></tr>
    <tr><td class="paramname">upThenDown</td><td>Detect up-&gt;down or down-&gt;up transition. </td></tr>
    <tr><td class="paramname">clearFlag</td><td>Whether to clear the state-tracking flag. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if transition occurred. </dd></dl>

<p class="definition">Definition at line <a class="el" href="_hardware_manager_8cpp_source.html#l00304">304</a> of file <a class="el" href="_hardware_manager_8cpp_source.html">HardwareManager.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  304</span>                                                                                    {</div>
<div class="line"><span class="lineno">  305</span>  <span class="keywordflow">if</span>(index &gt;= <a class="code hl_define" href="defines_8h.html#a45add6b39f5b0c0137de978b90e26b5d">NUM_BUTTONS</a>) {</div>
<div class="line"><span class="lineno">  306</span>    <a class="code hl_function" href="_logging_8h.html#a32abad09d9f828a9805862e18ad5da5f">log</a>(<a class="code hl_enumvalue" href="_logging_8h.html#aca1fd1d8935433e6ba2e3918214e07f9a230506cce5c68c3bac5a821c42ed3473">LOG_ERROR</a>, <span class="stringliteral">&quot;invalid button number passed to HardwareManager::buttonStateChanged()&quot;</span>);</div>
<div class="line"><span class="lineno">  307</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  308</span>  }</div>
<div class="line"><span class="lineno">  309</span> </div>
<div class="line"><span class="lineno">  310</span>  <span class="keywordflow">if</span>(<a class="code hl_variable" href="#a0a79ed924f6537f4b28e17bfc495e840">buttonStates</a>[index] != <a class="code hl_variable" href="#ad30a99fa8e93d030b058e41f6e60dcae">prevButtonStates</a>[index]) {</div>
<div class="line"><span class="lineno">  311</span>    <span class="keywordflow">if</span>(upThenDown) {</div>
<div class="line"><span class="lineno">  312</span>      <span class="keywordflow">if</span>(<a class="code hl_variable" href="#a0a79ed924f6537f4b28e17bfc495e840">buttonStates</a>[index] == LOW &amp;&amp; <a class="code hl_variable" href="#ad30a99fa8e93d030b058e41f6e60dcae">prevButtonStates</a>[index] == HIGH) {</div>
<div class="line"><span class="lineno">  313</span>        <span class="keywordflow">if</span>(clearFlag) <a class="code hl_variable" href="#ad30a99fa8e93d030b058e41f6e60dcae">prevButtonStates</a>[index] = <a class="code hl_variable" href="#a0a79ed924f6537f4b28e17bfc495e840">buttonStates</a>[index];</div>
<div class="line"><span class="lineno">  314</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>; </div>
<div class="line"><span class="lineno">  315</span>      }</div>
<div class="line"><span class="lineno">  316</span>    }</div>
<div class="line"><span class="lineno">  317</span>    <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  318</span>      <span class="keywordflow">if</span>(<a class="code hl_variable" href="#a0a79ed924f6537f4b28e17bfc495e840">buttonStates</a>[index] == HIGH &amp;&amp; <a class="code hl_variable" href="#ad30a99fa8e93d030b058e41f6e60dcae">prevButtonStates</a>[index] == LOW) {</div>
<div class="line"><span class="lineno">  319</span>        <span class="keywordflow">if</span>(clearFlag) <a class="code hl_variable" href="#ad30a99fa8e93d030b058e41f6e60dcae">prevButtonStates</a>[index] = <a class="code hl_variable" href="#a0a79ed924f6537f4b28e17bfc495e840">buttonStates</a>[index];        </div>
<div class="line"><span class="lineno">  320</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  321</span>      }</div>
<div class="line"><span class="lineno">  322</span>    }</div>
<div class="line"><span class="lineno">  323</span>  }</div>
<div class="line"><span class="lineno">  324</span> </div>
<div class="line"><span class="lineno">  325</span>  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  326</span>}</div>
<div class="ttc" id="a_logging_8h_html_a32abad09d9f828a9805862e18ad5da5f"><div class="ttname"><a href="_logging_8h.html#a32abad09d9f828a9805862e18ad5da5f">log</a></div><div class="ttdeci">void log(LogLevel level, const String &amp;message)</div><div class="ttdoc">Logs a message with an explicit log level.</div><div class="ttdef"><b>Definition</b> <a href="_logging_8cpp_source.html#l00026">Logging.cpp:26</a></div></div>
<div class="ttc" id="a_logging_8h_html_aca1fd1d8935433e6ba2e3918214e07f9a230506cce5c68c3bac5a821c42ed3473"><div class="ttname"><a href="_logging_8h.html#aca1fd1d8935433e6ba2e3918214e07f9a230506cce5c68c3bac5a821c42ed3473">LOG_ERROR</a></div><div class="ttdeci">@ LOG_ERROR</div><div class="ttdef"><b>Definition</b> <a href="_logging_8h_source.html#l00023">Logging.h:23</a></div></div>
<div class="ttc" id="aclass_hardware_manager_html_a0a79ed924f6537f4b28e17bfc495e840"><div class="ttname"><a href="#a0a79ed924f6537f4b28e17bfc495e840">HardwareManager::buttonStates</a></div><div class="ttdeci">uint8_t buttonStates[NUM_BUTTONS]</div><div class="ttdoc">Current digital button states.</div><div class="ttdef"><b>Definition</b> <a href="_hardware_manager_8h_source.html#l00046">HardwareManager.h:46</a></div></div>
<div class="ttc" id="aclass_hardware_manager_html_ad30a99fa8e93d030b058e41f6e60dcae"><div class="ttname"><a href="#ad30a99fa8e93d030b058e41f6e60dcae">HardwareManager::prevButtonStates</a></div><div class="ttdeci">uint8_t prevButtonStates[NUM_BUTTONS]</div><div class="ttdoc">Previous digital button states.</div><div class="ttdef"><b>Definition</b> <a href="_hardware_manager_8h_source.html#l00047">HardwareManager.h:47</a></div></div>
<div class="ttc" id="adefines_8h_html_a45add6b39f5b0c0137de978b90e26b5d"><div class="ttname"><a href="defines_8h.html#a45add6b39f5b0c0137de978b90e26b5d">NUM_BUTTONS</a></div><div class="ttdeci">#define NUM_BUTTONS</div><div class="ttdef"><b>Definition</b> <a href="defines_8h_source.html#l00049">defines.h:49</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" loading="lazy" frameborder="0" src="class_hardware_manager_a73027e69fad5aa613c3fe4ed0af7b6da_cgraph.svg" width="300" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a245e2fe92421b95d708377e7b6ca6711" name="a245e2fe92421b95d708377e7b6ca6711"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a245e2fe92421b95d708377e7b6ca6711">&#9670;&#160;</a></span>encoderSwitchStateChanged()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool HardwareManager::encoderSwitchStateChanged </td>
          <td>(</td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>upThenDown</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>clearFlag</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Detects state changes on encoder button. </p>
<p>Checks if the encoder switch changed state in the specified direction.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">upThenDown</td><td>If true, require a full press/release cycle </td></tr>
    <tr><td class="paramname">clearFlag</td><td>If true, clear the change flag after detection </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the encoder button changed state</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">upThenDown</td><td>Whether to detect a falling or rising edge. </td></tr>
    <tr><td class="paramname">clearFlag</td><td>Whether to reset internal edge-tracking state. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if state change matches the condition. </dd></dl>

<p class="definition">Definition at line <a class="el" href="_hardware_manager_8cpp_source.html#l00277">277</a> of file <a class="el" href="_hardware_manager_8cpp_source.html">HardwareManager.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  277</span>                                                                               {</div>
<div class="line"><span class="lineno">  278</span>  <span class="keywordflow">if</span>(<a class="code hl_variable" href="#a0f5f92a4bb0414fb777bf27a59530b0b">bEncoderBtn</a> != <a class="code hl_variable" href="#ac803df51783435becad4e0719e3de1d3">bPrevEncoderBtn</a>) {</div>
<div class="line"><span class="lineno">  279</span>    <span class="keywordflow">if</span>(upThenDown) {</div>
<div class="line"><span class="lineno">  280</span>      <span class="keywordflow">if</span>(<a class="code hl_variable" href="#a0f5f92a4bb0414fb777bf27a59530b0b">bEncoderBtn</a> == LOW &amp;&amp; <a class="code hl_variable" href="#ac803df51783435becad4e0719e3de1d3">bPrevEncoderBtn</a> == HIGH) {</div>
<div class="line"><span class="lineno">  281</span>        <span class="keywordflow">if</span>(clearFlag) <a class="code hl_variable" href="#ac803df51783435becad4e0719e3de1d3">bPrevEncoderBtn</a> = <a class="code hl_variable" href="#a0f5f92a4bb0414fb777bf27a59530b0b">bEncoderBtn</a>;</div>
<div class="line"><span class="lineno">  282</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  283</span>      }</div>
<div class="line"><span class="lineno">  284</span>    }</div>
<div class="line"><span class="lineno">  285</span>    <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  286</span>      <span class="keywordflow">if</span>(<a class="code hl_variable" href="#a0f5f92a4bb0414fb777bf27a59530b0b">bEncoderBtn</a> == HIGH &amp;&amp; <a class="code hl_variable" href="#ac803df51783435becad4e0719e3de1d3">bPrevEncoderBtn</a> == LOW) {</div>
<div class="line"><span class="lineno">  287</span>        <span class="keywordflow">if</span>(clearFlag) <a class="code hl_variable" href="#ac803df51783435becad4e0719e3de1d3">bPrevEncoderBtn</a> = <a class="code hl_variable" href="#a0f5f92a4bb0414fb777bf27a59530b0b">bEncoderBtn</a>;</div>
<div class="line"><span class="lineno">  288</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  289</span>      }</div>
<div class="line"><span class="lineno">  290</span>    }</div>
<div class="line"><span class="lineno">  291</span>  }</div>
<div class="line"><span class="lineno">  292</span>  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  293</span>}</div>
<div class="ttc" id="aclass_hardware_manager_html_a0f5f92a4bb0414fb777bf27a59530b0b"><div class="ttname"><a href="#a0f5f92a4bb0414fb777bf27a59530b0b">HardwareManager::bEncoderBtn</a></div><div class="ttdeci">bool bEncoderBtn</div><div class="ttdoc">Current encoder button state.</div><div class="ttdef"><b>Definition</b> <a href="_hardware_manager_8h_source.html#l00053">HardwareManager.h:53</a></div></div>
<div class="ttc" id="aclass_hardware_manager_html_ac803df51783435becad4e0719e3de1d3"><div class="ttname"><a href="#ac803df51783435becad4e0719e3de1d3">HardwareManager::bPrevEncoderBtn</a></div><div class="ttdeci">bool bPrevEncoderBtn</div><div class="ttdoc">Previous encoder button state.</div><div class="ttdef"><b>Definition</b> <a href="_hardware_manager_8h_source.html#l00054">HardwareManager.h:54</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4a7cab7ae0b5071b0557905000f46806" name="a4a7cab7ae0b5071b0557905000f46806"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a7cab7ae0b5071b0557905000f46806">&#9670;&#160;</a></span>gatherControlSettings()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void HardwareManager::gatherControlSettings </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reads all analog and digital inputs. </p>
<p>Polls all control surfaces: knobs, buttons, encoder - performs a full scan of potentiometers, buttons, and encoder state for UI polling.</p>
<p>This method reads the current state of all buttons, the encoder switch, and the potentiometer values. It updates the internal state variables accordingly, including previous states for change detection. It also updates the encoder position and checks for any changes in button states. This method is typically called periodically to gather the latest control settings. </p>

<p class="definition">Definition at line <a class="el" href="_hardware_manager_8cpp_source.html#l00219">219</a> of file <a class="el" href="_hardware_manager_8cpp_source.html">HardwareManager.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  219</span>                                            {</div>
<div class="line"><span class="lineno">  220</span>  this-&gt;<a class="code hl_function" href="#ab2810a18f676cb33b5696d59a61caf1b">gatherPotentiometerValues</a>();</div>
<div class="line"><span class="lineno">  221</span> </div>
<div class="line"><span class="lineno">  222</span>  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; <a class="code hl_define" href="defines_8h.html#a45add6b39f5b0c0137de978b90e26b5d">NUM_BUTTONS</a>; i++)</div>
<div class="line"><span class="lineno">  223</span>    <a class="code hl_variable" href="#ad30a99fa8e93d030b058e41f6e60dcae">prevButtonStates</a>[i] = <a class="code hl_variable" href="#a0a79ed924f6537f4b28e17bfc495e840">buttonStates</a>[i];</div>
<div class="line"><span class="lineno">  224</span> </div>
<div class="line"><span class="lineno">  225</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code hl_define" href="defines_8h.html#a45add6b39f5b0c0137de978b90e26b5d">NUM_BUTTONS</a>; i++)</div>
<div class="line"><span class="lineno">  226</span>    <a class="code hl_variable" href="#a0a79ed924f6537f4b28e17bfc495e840">buttonStates</a>[i] = !digitalRead(<a class="code hl_variable" href="#a627129bb20508846f14c1f62220a4976">buttonPins</a>[i]); <span class="comment">// Active low</span></div>
<div class="line"><span class="lineno">  227</span> </div>
<div class="line"><span class="lineno">  228</span>  <a class="code hl_variable" href="#ac803df51783435becad4e0719e3de1d3">bPrevEncoderBtn</a> = <a class="code hl_variable" href="#a0f5f92a4bb0414fb777bf27a59530b0b">bEncoderBtn</a>;</div>
<div class="line"><span class="lineno">  229</span>  <a class="code hl_variable" href="#a0f5f92a4bb0414fb777bf27a59530b0b">bEncoderBtn</a> = !digitalRead(<a class="code hl_define" href="defines_8h.html#ae80cab24ae384f8a20b28d725e0761a8">ENCODER_SW_PIN</a>);</div>
<div class="line"><span class="lineno">  230</span>  this-&gt;<a class="code hl_function" href="#a04393ce5c07558f919f4473049543260">updateEncoder</a>();  </div>
<div class="line"><span class="lineno">  231</span>}</div>
<div class="ttc" id="aclass_hardware_manager_html_a04393ce5c07558f919f4473049543260"><div class="ttname"><a href="#a04393ce5c07558f919f4473049543260">HardwareManager::updateEncoder</a></div><div class="ttdeci">void updateEncoder()</div><div class="ttdoc">Reads and updates encoder state.</div><div class="ttdef"><b>Definition</b> <a href="_hardware_manager_8cpp_source.html#l00383">HardwareManager.cpp:383</a></div></div>
<div class="ttc" id="aclass_hardware_manager_html_a627129bb20508846f14c1f62220a4976"><div class="ttname"><a href="#a627129bb20508846f14c1f62220a4976">HardwareManager::buttonPins</a></div><div class="ttdeci">const uint8_t buttonPins[NUM_BUTTONS]</div><div class="ttdoc">GPIO pin numbers for each digital button.</div><div class="ttdef"><b>Definition</b> <a href="_hardware_manager_8h_source.html#l00065">HardwareManager.h:65</a></div></div>
<div class="ttc" id="aclass_hardware_manager_html_ab2810a18f676cb33b5696d59a61caf1b"><div class="ttname"><a href="#ab2810a18f676cb33b5696d59a61caf1b">HardwareManager::gatherPotentiometerValues</a></div><div class="ttdeci">void gatherPotentiometerValues()</div><div class="ttdoc">Reads and stores current potentiometer values.</div><div class="ttdef"><b>Definition</b> <a href="_hardware_manager_8cpp_source.html#l00337">HardwareManager.cpp:337</a></div></div>
<div class="ttc" id="adefines_8h_html_ae80cab24ae384f8a20b28d725e0761a8"><div class="ttname"><a href="defines_8h.html#ae80cab24ae384f8a20b28d725e0761a8">ENCODER_SW_PIN</a></div><div class="ttdeci">#define ENCODER_SW_PIN</div><div class="ttdef"><b>Definition</b> <a href="defines_8h_source.html#l00059">defines.h:59</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" loading="lazy" frameborder="0" src="class_hardware_manager_a4a7cab7ae0b5071b0557905000f46806_cgraph.svg" width="800" height="102"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" loading="lazy" frameborder="0" src="class_hardware_manager_a4a7cab7ae0b5071b0557905000f46806_icgraph.svg" width="432" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ab2810a18f676cb33b5696d59a61caf1b" name="ab2810a18f676cb33b5696d59a61caf1b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2810a18f676cb33b5696d59a61caf1b">&#9670;&#160;</a></span>gatherPotentiometerValues()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void HardwareManager::gatherPotentiometerValues </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reads and stores current potentiometer values. </p>
<p>Scans all multiplexer channels and updates smoothed analog values.</p>
<p>iterates through all MUX channels to update smoothed ADC values for each knob This method is called periodically to gather the latest potentiometer values. It reads each channel, applies smoothing, and stores the results in AnalogValues. It also maintains a backup of the last values for comparison. </p>

<p class="definition">Definition at line <a class="el" href="_hardware_manager_8cpp_source.html#l00337">337</a> of file <a class="el" href="_hardware_manager_8cpp_source.html">HardwareManager.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  337</span>                                                {</div>
<div class="line"><span class="lineno">  338</span>  <a class="code hl_variable" href="#a10c40b44979b1ee9d1de1befd26d3a44">iGatherCtr</a>++;</div>
<div class="line"><span class="lineno">  339</span>  <a class="code hl_variable" href="#a9b7836f6542d76f66a18dd266c8ff268">lastPotScanTime</a> = millis();</div>
<div class="line"><span class="lineno">  340</span>  <span class="keywordflow">for</span>(uint8_t muxCtr = 0; muxCtr &lt; <a class="code hl_define" href="defines_8h.html#a006a61e230d20d998a18bf2fbf562947">NUM_MUXES</a>; muxCtr++) {</div>
<div class="line"><span class="lineno">  341</span>      digitalWrite(this-&gt;<a class="code hl_variable" href="#ac54dcfe2d8157035648e18095430633d">enablePins</a>[muxCtr], LOW);  <span class="comment">// enable this mux</span></div>
<div class="line"><span class="lineno">  342</span>      <span class="keywordflow">for</span>(uint8_t addr = 0; addr &lt; 16; addr++) {</div>
<div class="line"><span class="lineno">  343</span>        this-&gt;<a class="code hl_function" href="#aef067455e10624433ddd360794012151">setAddressPins</a>(addr);</div>
<div class="line"><span class="lineno">  344</span>        uint16_t raw = <a class="code hl_variable" href="#a2e85929fcd71e50c6913d623577dbeb8">adc</a>.adc0-&gt;analogRead(<a class="code hl_variable" href="#a8ad6a46ff803f39bbe5c7b99d5dc1118">analogInPins</a>[muxCtr]);</div>
<div class="line"><span class="lineno">  345</span>        raw = raw &gt;&gt; 2;          <span class="comment">// (1024 / 4 = 256)</span></div>
<div class="line"><span class="lineno">  346</span>        raw = ((this-&gt;<a class="code hl_variable" href="#a8f6720aad631557b7254da5f7ff356ed">AnalogValues</a>[addr][muxCtr]) * 7 + raw) &gt;&gt; 3;  <span class="comment">// smoothed value (multiplies original value by 7 then adds new, then averages)</span></div>
<div class="line"><span class="lineno">  347</span>        this-&gt;<a class="code hl_variable" href="#a8f6720aad631557b7254da5f7ff356ed">AnalogValues</a>[addr][muxCtr] = raw;</div>
<div class="line"><span class="lineno">  348</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="#a10c40b44979b1ee9d1de1befd26d3a44">iGatherCtr</a> % 10 == 0) <span class="comment">// store a copy of the current AnalogValues() periodically</span></div>
<div class="line"><span class="lineno">  349</span>            <a class="code hl_variable" href="#a53cce0263086fe32524936c007293847">oldAnalogValues</a>[addr][muxCtr] = this-&gt;<a class="code hl_variable" href="#a8f6720aad631557b7254da5f7ff356ed">AnalogValues</a>[addr][muxCtr];</div>
<div class="line"><span class="lineno">  350</span>      }</div>
<div class="line"><span class="lineno">  351</span>      digitalWrite(this-&gt;<a class="code hl_variable" href="#ac54dcfe2d8157035648e18095430633d">enablePins</a>[muxCtr], HIGH); <span class="comment">// disable this mux</span></div>
<div class="line"><span class="lineno">  352</span>      delayMicroseconds(5);</div>
<div class="line"><span class="lineno">  353</span>  }</div>
<div class="line"><span class="lineno">  354</span>}</div>
<div class="ttc" id="aclass_hardware_manager_html_a10c40b44979b1ee9d1de1befd26d3a44"><div class="ttname"><a href="#a10c40b44979b1ee9d1de1befd26d3a44">HardwareManager::iGatherCtr</a></div><div class="ttdeci">long iGatherCtr</div><div class="ttdef"><b>Definition</b> <a href="_hardware_manager_8h_source.html#l00035">HardwareManager.h:35</a></div></div>
<div class="ttc" id="aclass_hardware_manager_html_a2e85929fcd71e50c6913d623577dbeb8"><div class="ttname"><a href="#a2e85929fcd71e50c6913d623577dbeb8">HardwareManager::adc</a></div><div class="ttdeci">ADC adc</div><div class="ttdoc">ADC manager for Teensy analog reads.</div><div class="ttdef"><b>Definition</b> <a href="_hardware_manager_8h_source.html#l00061">HardwareManager.h:61</a></div></div>
<div class="ttc" id="aclass_hardware_manager_html_a53cce0263086fe32524936c007293847"><div class="ttname"><a href="#a53cce0263086fe32524936c007293847">HardwareManager::oldAnalogValues</a></div><div class="ttdeci">uint16_t oldAnalogValues[16][NUM_MUXES]</div><div class="ttdoc">Previous readings for comparison.</div><div class="ttdef"><b>Definition</b> <a href="_hardware_manager_8h_source.html#l00044">HardwareManager.h:44</a></div></div>
<div class="ttc" id="aclass_hardware_manager_html_a8ad6a46ff803f39bbe5c7b99d5dc1118"><div class="ttname"><a href="#a8ad6a46ff803f39bbe5c7b99d5dc1118">HardwareManager::analogInPins</a></div><div class="ttdeci">const uint8_t analogInPins[NUM_MUXES]</div><div class="ttdoc">ADC pins corresponding to each MUX.</div><div class="ttdef"><b>Definition</b> <a href="_hardware_manager_8h_source.html#l00064">HardwareManager.h:64</a></div></div>
<div class="ttc" id="aclass_hardware_manager_html_a8f6720aad631557b7254da5f7ff356ed"><div class="ttname"><a href="#a8f6720aad631557b7254da5f7ff356ed">HardwareManager::AnalogValues</a></div><div class="ttdeci">uint16_t AnalogValues[16][NUM_MUXES]</div><div class="ttdoc">Latest analog readings from all knobs.</div><div class="ttdef"><b>Definition</b> <a href="_hardware_manager_8h_source.html#l00043">HardwareManager.h:43</a></div></div>
<div class="ttc" id="aclass_hardware_manager_html_a9b7836f6542d76f66a18dd266c8ff268"><div class="ttname"><a href="#a9b7836f6542d76f66a18dd266c8ff268">HardwareManager::lastPotScanTime</a></div><div class="ttdeci">long lastPotScanTime</div><div class="ttdef"><b>Definition</b> <a href="_hardware_manager_8h_source.html#l00059">HardwareManager.h:59</a></div></div>
<div class="ttc" id="aclass_hardware_manager_html_ac54dcfe2d8157035648e18095430633d"><div class="ttname"><a href="#ac54dcfe2d8157035648e18095430633d">HardwareManager::enablePins</a></div><div class="ttdeci">uint enablePins[NUM_MUXES]</div><div class="ttdoc">Enable lines for each analog multiplexer.</div><div class="ttdef"><b>Definition</b> <a href="_hardware_manager_8h_source.html#l00040">HardwareManager.h:40</a></div></div>
<div class="ttc" id="aclass_hardware_manager_html_aef067455e10624433ddd360794012151"><div class="ttname"><a href="#aef067455e10624433ddd360794012151">HardwareManager::setAddressPins</a></div><div class="ttdeci">void setAddressPins(uint val)</div><div class="ttdoc">Sets the MUX address lines.</div><div class="ttdef"><b>Definition</b> <a href="_hardware_manager_8cpp_source.html#l00362">HardwareManager.cpp:362</a></div></div>
<div class="ttc" id="adefines_8h_html_a006a61e230d20d998a18bf2fbf562947"><div class="ttname"><a href="defines_8h.html#a006a61e230d20d998a18bf2fbf562947">NUM_MUXES</a></div><div class="ttdeci">#define NUM_MUXES</div><div class="ttdef"><b>Definition</b> <a href="defines_8h_source.html#l00032">defines.h:32</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" loading="lazy" frameborder="0" src="class_hardware_manager_ab2810a18f676cb33b5696d59a61caf1b_cgraph.svg" width="539" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" loading="lazy" frameborder="0" src="class_hardware_manager_ab2810a18f676cb33b5696d59a61caf1b_icgraph.svg" width="732" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a0b6ee88f01f7908e5d0bdd7f366164f4" name="a0b6ee88f01f7908e5d0bdd7f366164f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b6ee88f01f7908e5d0bdd7f366164f4">&#9670;&#160;</a></span>getEncoderSwitchStatus()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool HardwareManager::getEncoderSwitchStatus </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if the encoder button is currently pressed. </p>
<p>Returns the current state of the encoder switch. </p>

<p class="definition">Definition at line <a class="el" href="_hardware_manager_8cpp_source.html#l00513">513</a> of file <a class="el" href="_hardware_manager_8cpp_source.html">HardwareManager.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  513</span>                                             {</div>
<div class="line"><span class="lineno">  514</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="#a0f5f92a4bb0414fb777bf27a59530b0b">bEncoderBtn</a>;</div>
<div class="line"><span class="lineno">  515</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aaa16c700ab58fcc9b2b8a33ff4f3090d" name="aaa16c700ab58fcc9b2b8a33ff4f3090d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa16c700ab58fcc9b2b8a33ff4f3090d">&#9670;&#160;</a></span>getEncoderValue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long HardwareManager::getEncoderValue </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns raw encoder position. </p>
<p>Gets the raw encoder value.</p>
<dl class="section return"><dt>Returns</dt><dd>long Internal encoder position. </dd></dl>

<p class="definition">Definition at line <a class="el" href="_hardware_manager_8cpp_source.html#l00407">407</a> of file <a class="el" href="_hardware_manager_8cpp_source.html">HardwareManager.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  407</span>                                      {</div>
<div class="line"><span class="lineno">  408</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="#af4761cefe4c6093de549ae7e5dde75b9">lastEncoderPosition</a>;</div>
<div class="line"><span class="lineno">  409</span>}</div>
<div class="ttc" id="aclass_hardware_manager_html_af4761cefe4c6093de549ae7e5dde75b9"><div class="ttname"><a href="#af4761cefe4c6093de549ae7e5dde75b9">HardwareManager::lastEncoderPosition</a></div><div class="ttdeci">long lastEncoderPosition</div><div class="ttdoc">Last recorded rotary encoder position.</div><div class="ttdef"><b>Definition</b> <a href="_hardware_manager_8h_source.html#l00057">HardwareManager.h:57</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5ad8de42c31a9691549f22b7157919e2" name="a5ad8de42c31a9691549f22b7157919e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ad8de42c31a9691549f22b7157919e2">&#9670;&#160;</a></span>getEncoderZeroTo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long HardwareManager::getEncoderZeroTo </td>
          <td>(</td>
          <td class="paramtype">long</td>          <td class="paramname"><span class="paramname"><em>divisor</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a normalized encoder value in range [0, divisor). </p>
<p>Retrieves the encoder position as an integer scaled to a 0..divisor range.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">divisor</td><td>Maximum value for wrapping </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Normalized encoder count</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">divisor</td><td>Maximum number for the scaled value. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>long Scaled encoder position. </dd></dl>

<p class="definition">Definition at line <a class="el" href="_hardware_manager_8cpp_source.html#l00103">103</a> of file <a class="el" href="_hardware_manager_8cpp_source.html">HardwareManager.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  103</span>                                                   {</div>
<div class="line"><span class="lineno">  104</span>    <span class="keywordtype">long</span> i = (<a class="code hl_variable" href="#af4761cefe4c6093de549ae7e5dde75b9">lastEncoderPosition</a>&gt;&gt;2) % divisor; </div>
<div class="line"><span class="lineno">  105</span>    <span class="keywordflow">if</span>(i &lt; 0)</div>
<div class="line"><span class="lineno">  106</span>      i = 0;</div>
<div class="line"><span class="lineno">  107</span>    <span class="keywordflow">if</span>(i &gt; divisor)</div>
<div class="line"><span class="lineno">  108</span>      i = divisor-1;</div>
<div class="line"><span class="lineno">  109</span>    </div>
<div class="line"><span class="lineno">  110</span>    <span class="keywordflow">return</span> i;</div>
<div class="line"><span class="lineno">  111</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="af204c2f4a3e3e12dbd79a9c910f5979c" name="af204c2f4a3e3e12dbd79a9c910f5979c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af204c2f4a3e3e12dbd79a9c910f5979c">&#9670;&#160;</a></span>getKnobConfiguration()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structknob_config.html">knobConfig</a> HardwareManager::getKnobConfiguration </td>
          <td>(</td>
          <td class="paramtype">uint</td>          <td class="paramname"><span class="paramname"><em>index</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves the configuration associated with a given knob. </p>
<p>Retrieves the configuration of a knob at a given index.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">i</td><td>Knob index </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="structknob_config.html">knobConfig</a> structure</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">index</td><td>Knob index. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="structknob_config.html">knobConfig</a> Copy of the configuration struct. </dd></dl>

<p class="definition">Definition at line <a class="el" href="_hardware_manager_8cpp_source.html#l00537">537</a> of file <a class="el" href="_hardware_manager_8cpp_source.html">HardwareManager.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  537</span>                                                           {</div>
<div class="line"><span class="lineno">  538</span>  <span class="keywordflow">if</span>(index &gt;= <a class="code hl_define" href="defines_8h.html#a87f435a777fc58e1d3c4630bb8e632b3">NUM_KNOBS</a>) {</div>
<div class="line"><span class="lineno">  539</span>    <a class="code hl_function" href="_logging_8h.html#a32abad09d9f828a9805862e18ad5da5f">log</a>(<a class="code hl_enumvalue" href="_logging_8h.html#aca1fd1d8935433e6ba2e3918214e07f9a230506cce5c68c3bac5a821c42ed3473">LOG_ERROR</a>, <span class="stringliteral">&quot;HardwareManager::getKnobConfiguration() invoked with an invalid knob index&quot;</span>);</div>
<div class="line"><span class="lineno">  540</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="#ab9756835f0b098ac288628f4c4139ca2">knobConfigurations</a>[<a class="code hl_define" href="defines_8h.html#a87f435a777fc58e1d3c4630bb8e632b3">NUM_KNOBS</a> % index];</div>
<div class="line"><span class="lineno">  541</span>  }</div>
<div class="line"><span class="lineno">  542</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="#ab9756835f0b098ac288628f4c4139ca2">knobConfigurations</a>[index];</div>
<div class="line"><span class="lineno">  543</span>}</div>
<div class="ttc" id="aclass_hardware_manager_html_ab9756835f0b098ac288628f4c4139ca2"><div class="ttname"><a href="#ab9756835f0b098ac288628f4c4139ca2">HardwareManager::knobConfigurations</a></div><div class="ttdeci">knobConfig knobConfigurations[NUM_KNOBS]</div><div class="ttdoc">Current knob-to-parameter mapping.</div><div class="ttdef"><b>Definition</b> <a href="_hardware_manager_8h_source.html#l00070">HardwareManager.h:70</a></div></div>
<div class="ttc" id="adefines_8h_html_a87f435a777fc58e1d3c4630bb8e632b3"><div class="ttname"><a href="defines_8h.html#a87f435a777fc58e1d3c4630bb8e632b3">NUM_KNOBS</a></div><div class="ttdeci">#define NUM_KNOBS</div><div class="ttdef"><b>Definition</b> <a href="defines_8h_source.html#l00069">defines.h:69</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" loading="lazy" frameborder="0" src="class_hardware_manager_af204c2f4a3e3e12dbd79a9c910f5979c_cgraph.svg" width="280" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a389138f42e4c27721988b5f6482a47c1" name="a389138f42e4c27721988b5f6482a47c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a389138f42e4c27721988b5f6482a47c1">&#9670;&#160;</a></span>getKnobValue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int HardwareManager::getKnobValue </td>
          <td>(</td>
          <td class="paramtype">uint</td>          <td class="paramname"><span class="paramname"><em>knobIX</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves the current analog value of the specified knob. </p>
<p>Returns a transformed and smoothed ADC value for the specified knob.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">index</td><td>Knob index (0 to NUM_KNOBS-1)</td></tr>
    <tr><td class="paramname">knobIX</td><td>Logical knob index. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int Smoothed value from 0-255. </dd></dl>

<p class="definition">Definition at line <a class="el" href="_hardware_manager_8cpp_source.html#l00186">186</a> of file <a class="el" href="_hardware_manager_8cpp_source.html">HardwareManager.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  186</span>                                             {</div>
<div class="line"><span class="lineno">  187</span>  knobIX = <a class="code hl_variable" href="_hardware_manager_8cpp.html#abdb55660f2760f6fe0f0455db948dcc0">knobXformer</a>[knobIX];              <span class="comment">// transform this index (necessary because of wiring) </span></div>
<div class="line"><span class="lineno">  188</span>  uint mux = knobIX &gt;&gt; 4;</div>
<div class="line"><span class="lineno">  189</span>  uint mux_ix = knobIX &amp; 0x0F;</div>
<div class="line"><span class="lineno">  190</span> </div>
<div class="line"><span class="lineno">  191</span>  <span class="keywordflow">return</span> 255-(this-&gt;<a class="code hl_variable" href="#a8f6720aad631557b7254da5f7ff356ed">AnalogValues</a>[mux_ix][mux]);</div>
<div class="line"><span class="lineno">  192</span>}</div>
<div class="ttc" id="a_hardware_manager_8cpp_html_abdb55660f2760f6fe0f0455db948dcc0"><div class="ttname"><a href="_hardware_manager_8cpp.html#abdb55660f2760f6fe0f0455db948dcc0">knobXformer</a></div><div class="ttdeci">static const uint knobXformer[]</div><div class="ttdef"><b>Definition</b> <a href="_hardware_manager_8cpp_source.html#l00172">HardwareManager.cpp:172</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a598987bc3663dc83206abb5d1d2119f5" name="a598987bc3663dc83206abb5d1d2119f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a598987bc3663dc83206abb5d1d2119f5">&#9670;&#160;</a></span>greenIsLit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool HardwareManager::greenIsLit </td>
          <td>(</td>
          <td class="paramtype">uint</td>          <td class="paramname"><span class="paramname"><em>buttonId</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if the green LED is lit for a given button. </p>
<p>Returns true if the green LED is currently lit for the given button.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buttonId</td><td>Button index </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if green LED is on</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buttonId</td><td>Logical button ID. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if lit. </dd></dl>

<p class="definition">Definition at line <a class="el" href="_hardware_manager_8cpp_source.html#l00258">258</a> of file <a class="el" href="_hardware_manager_8cpp_source.html">HardwareManager.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  258</span>                                              {</div>
<div class="line"><span class="lineno">  259</span>  <span class="keywordflow">if</span>(buttonId &gt;= <a class="code hl_define" href="defines_8h.html#a45add6b39f5b0c0137de978b90e26b5d">NUM_BUTTONS</a>) {</div>
<div class="line"><span class="lineno">  260</span>    <a class="code hl_function" href="_logging_8h.html#a32abad09d9f828a9805862e18ad5da5f">log</a>(<a class="code hl_enumvalue" href="_logging_8h.html#aca1fd1d8935433e6ba2e3918214e07f9a230506cce5c68c3bac5a821c42ed3473">LOG_ERROR</a>, <span class="stringliteral">&quot;invalid button number passed to HardwareManager::greenIsLit()&quot;</span>);</div>
<div class="line"><span class="lineno">  261</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  262</span>  }</div>
<div class="line"><span class="lineno">  263</span> </div>
<div class="line"><span class="lineno">  264</span>  buttonId = <a class="code hl_define" href="defines_8h.html#a45add6b39f5b0c0137de978b90e26b5d">NUM_BUTTONS</a> - 1 - buttonId;</div>
<div class="line"><span class="lineno">  265</span>  uint bitPos = buttonId * 2 + 1; <span class="comment">// Green LED bit</span></div>
<div class="line"><span class="lineno">  266</span>  <span class="keywordflow">return</span> (<a class="code hl_variable" href="#ae270bdec0bf6dbb5a0558aec3858c5ce">ledstate</a> &amp; (1 &lt;&lt; bitPos)) != 0;</div>
<div class="line"><span class="lineno">  267</span>}</div>
<div class="ttc" id="aclass_hardware_manager_html_ae270bdec0bf6dbb5a0558aec3858c5ce"><div class="ttname"><a href="#ae270bdec0bf6dbb5a0558aec3858c5ce">HardwareManager::ledstate</a></div><div class="ttdeci">uint8_t ledstate</div><div class="ttdoc">Bitfield representing current LED state.</div><div class="ttdef"><b>Definition</b> <a href="_hardware_manager_8h_source.html#l00049">HardwareManager.h:49</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" loading="lazy" frameborder="0" src="class_hardware_manager_a598987bc3663dc83206abb5d1d2119f5_cgraph.svg" width="290" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="acbee566327ea9e237566823f46dfcac5" name="acbee566327ea9e237566823f46dfcac5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acbee566327ea9e237566823f46dfcac5">&#9670;&#160;</a></span>init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HardwareManager::init </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes hardware peripherals: GPIO, ADC, encoder, etc. </p>
<p>Initializes all hardware subsystems.</p>
<p>Configures pin modes, initializes the encoder, sets up ADC parameters, and attaches necessary interrupts. Also initializes the MUX channel state and LED register system. </p>

<p class="definition">Definition at line <a class="el" href="_hardware_manager_8cpp_source.html#l00028">28</a> of file <a class="el" href="_hardware_manager_8cpp_source.html">HardwareManager.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   28</span>                           {</div>
<div class="line"><span class="lineno">   29</span>    <a class="code hl_function" href="_logging_8h.html#a32abad09d9f828a9805862e18ad5da5f">log</a>(<a class="code hl_enumvalue" href="_logging_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ac74e4f8b7fa7b544b66d09e854b8773a">LOG_VERBOSE</a>, <span class="stringliteral">&quot;Entering HardwareManager-&gt;init()&quot;</span>);</div>
<div class="line"><span class="lineno">   30</span>    </div>
<div class="line"><span class="lineno">   31</span>    EEPROM.begin();</div>
<div class="line"><span class="lineno">   32</span>    <a class="code hl_function" href="#aaf70a4835af8352a2af86b9679b89d41">loadKnobs</a>(); </div>
<div class="line"><span class="lineno">   33</span> </div>
<div class="line"><span class="lineno">   34</span>    <a class="code hl_variable" href="#a48dad7203dfb3cdaa646678c0f4f16b4">encoderKnob</a> = <span class="keyword">new</span> Encoder(<a class="code hl_define" href="defines_8h.html#a69905d626cf4151cb01579783c88c863">ENCODER_CLK_PIN</a>, <a class="code hl_define" href="defines_8h.html#ac85e335442c235cb773d5742c9ef85bb">ENCODER_DT_PIN</a>);</div>
<div class="line"><span class="lineno">   35</span> </div>
<div class="line"><span class="lineno">   36</span>    pinMode(<a class="code hl_define" href="defines_8h.html#a541f931e7d08042d778592d4f38bd403">PUSH_BTN_SW4_PIN</a>, INPUT_PULLUP);</div>
<div class="line"><span class="lineno">   37</span>    pinMode(<a class="code hl_define" href="defines_8h.html#a080eb3794855f7da383bb3d59aa51b86">PUSH_BTN_SW3_PIN</a>, INPUT_PULLUP);</div>
<div class="line"><span class="lineno">   38</span>    pinMode(<a class="code hl_define" href="defines_8h.html#a3e2406b11040fab176d3ae938bb36fb4">PUSH_BTN_SW2_PIN</a>, INPUT_PULLUP);</div>
<div class="line"><span class="lineno">   39</span>    pinMode(<a class="code hl_define" href="defines_8h.html#a1ee5f4c034a6dbd7f5f9d30a7c7621d7">PUSH_BTN_SW1_PIN</a>, INPUT_PULLUP);</div>
<div class="line"><span class="lineno">   40</span> </div>
<div class="line"><span class="lineno">   41</span>    pinMode(<a class="code hl_define" href="defines_8h.html#ae80cab24ae384f8a20b28d725e0761a8">ENCODER_SW_PIN</a>,   INPUT_PULLUP);</div>
<div class="line"><span class="lineno">   42</span>    pinMode(<a class="code hl_define" href="defines_8h.html#a69905d626cf4151cb01579783c88c863">ENCODER_CLK_PIN</a>,  INPUT);</div>
<div class="line"><span class="lineno">   43</span>    pinMode(<a class="code hl_define" href="defines_8h.html#ac85e335442c235cb773d5742c9ef85bb">ENCODER_DT_PIN</a>,   INPUT);</div>
<div class="line"><span class="lineno">   44</span> </div>
<div class="line"><span class="lineno">   45</span>    pinMode(<a class="code hl_define" href="defines_8h.html#a7e66659a0a4957d6723f5d750a08a14d">SHIFT_REG_SER</a>,    OUTPUT);</div>
<div class="line"><span class="lineno">   46</span>    pinMode(<a class="code hl_define" href="defines_8h.html#a3c79e4c4e3c98acfbb5ce2610850c837">SHIFT_REG_SRCLK</a>,  OUTPUT);</div>
<div class="line"><span class="lineno">   47</span>    pinMode(<a class="code hl_define" href="defines_8h.html#ad35e229b7d7271d26abe3244374f7159">SHIFT_REG_RCLK</a>,   OUTPUT);</div>
<div class="line"><span class="lineno">   48</span> </div>
<div class="line"><span class="lineno">   49</span>    <span class="keywordflow">for</span>(uint i = 0; i &lt; <a class="code hl_define" href="defines_8h.html#a006a61e230d20d998a18bf2fbf562947">NUM_MUXES</a>; i++) {</div>
<div class="line"><span class="lineno">   50</span>      pinMode(this-&gt;<a class="code hl_variable" href="#ac54dcfe2d8157035648e18095430633d">enablePins</a>[i], OUTPUT);             <span class="comment">// set enable pins as output</span></div>
<div class="line"><span class="lineno">   51</span>      digitalWrite(this-&gt;<a class="code hl_variable" href="#ac54dcfe2d8157035648e18095430633d">enablePins</a>[i], HIGH);          <span class="comment">// disable enable pins</span></div>
<div class="line"><span class="lineno">   52</span>    }</div>
<div class="line"><span class="lineno">   53</span>    <span class="keywordflow">for</span>(uint i = 0; i &lt; 4; i++) {</div>
<div class="line"><span class="lineno">   54</span>      pinMode(this-&gt;<a class="code hl_variable" href="#a315dc1caa02e610f91b1a612bda30b3f">MuxAddressPins</a>[i], OUTPUT);         <span class="comment">// set mux pins as output</span></div>
<div class="line"><span class="lineno">   55</span>      digitalWrite(this-&gt;<a class="code hl_variable" href="#a315dc1caa02e610f91b1a612bda30b3f">MuxAddressPins</a>[i], LOW);       <span class="comment">// set them all low</span></div>
<div class="line"><span class="lineno">   56</span>    }</div>
<div class="line"><span class="lineno">   57</span> </div>
<div class="line"><span class="lineno">   58</span>    pinMode(<a class="code hl_define" href="defines_8h.html#ae6596c668bf9f30d1c6a52785ae33f79">READYOUT_PIN</a>, OUTPUT);</div>
<div class="line"><span class="lineno">   59</span>    digitalWrite(<a class="code hl_define" href="defines_8h.html#ae6596c668bf9f30d1c6a52785ae33f79">READYOUT_PIN</a>, LOW);</div>
<div class="line"><span class="lineno">   60</span> </div>
<div class="line"><span class="lineno">   61</span>    pinMode(<a class="code hl_define" href="defines_8h.html#aaf8543438455236887373a4b15f25ce8">CLOCK_IN_PIN</a>, INPUT_PULLUP);</div>
<div class="line"><span class="lineno">   62</span> </div>
<div class="line"><span class="lineno">   63</span>    pinMode(<a class="code hl_define" href="defines_8h.html#a3cee117709e9b71f2384746e11d846b8">DATA_OUT_PIN</a>, OUTPUT);</div>
<div class="line"><span class="lineno">   64</span>    digitalWrite(<a class="code hl_define" href="defines_8h.html#ae6596c668bf9f30d1c6a52785ae33f79">READYOUT_PIN</a>, LOW);</div>
<div class="line"><span class="lineno">   65</span> </div>
<div class="line"><span class="lineno">   66</span>    <a class="code hl_function" href="_logging_8h.html#a32abad09d9f828a9805862e18ad5da5f">log</a>(<a class="code hl_enumvalue" href="_logging_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ac74e4f8b7fa7b544b66d09e854b8773a">LOG_VERBOSE</a>, <span class="stringliteral">&quot;Setting up ADC...&quot;</span>);</div>
<div class="line"><span class="lineno">   67</span> </div>
<div class="line"><span class="lineno">   68</span>    <a class="code hl_variable" href="#a2e85929fcd71e50c6913d623577dbeb8">adc</a>.adc0-&gt;setAveraging(4);</div>
<div class="line"><span class="lineno">   69</span>    <a class="code hl_variable" href="#a2e85929fcd71e50c6913d623577dbeb8">adc</a>.adc0-&gt;setConversionSpeed(ADC_CONVERSION_SPEED::MED_SPEED);</div>
<div class="line"><span class="lineno">   70</span>    <a class="code hl_variable" href="#a2e85929fcd71e50c6913d623577dbeb8">adc</a>.adc0-&gt;setSamplingSpeed(ADC_SAMPLING_SPEED::MED_SPEED); </div>
<div class="line"><span class="lineno">   71</span> </div>
<div class="line"><span class="lineno">   72</span>    <a class="code hl_function" href="_logging_8h.html#a32abad09d9f828a9805862e18ad5da5f">log</a>(<a class="code hl_enumvalue" href="_logging_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ac74e4f8b7fa7b544b66d09e854b8773a">LOG_VERBOSE</a>, <span class="stringliteral">&quot;Attaching interrupts...&quot;</span>);</div>
<div class="line"><span class="lineno">   73</span> </div>
<div class="line"><span class="lineno">   74</span>    attachInterrupt(digitalPinToInterrupt(<a class="code hl_define" href="defines_8h.html#aaf8543438455236887373a4b15f25ce8">CLOCK_IN_PIN</a>), <a class="code hl_function" href="#ae436f35ee0851ca0dad3f0f0c9ad83ea">HardwareManager::onPG800ClockFall</a>, FALLING);</div>
<div class="line"><span class="lineno">   75</span> </div>
<div class="line"><span class="lineno">   76</span>    <a class="code hl_function" href="_logging_8h.html#a32abad09d9f828a9805862e18ad5da5f">log</a>(<a class="code hl_enumvalue" href="_logging_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ac74e4f8b7fa7b544b66d09e854b8773a">LOG_VERBOSE</a>, <span class="stringliteral">&quot;Setting up DAC tables...&quot;</span>);</div>
<div class="line"><span class="lineno">   77</span> </div>
<div class="line"><span class="lineno">   78</span>    <span class="keywordflow">for</span>(uint8_t i=0; i&lt; <a class="code hl_define" href="defines_8h.html#a006a61e230d20d998a18bf2fbf562947">NUM_MUXES</a>; i++) {</div>
<div class="line"><span class="lineno">   79</span>        <span class="keywordflow">for</span>(uint8_t j=0;j&lt;16;j++) {</div>
<div class="line"><span class="lineno">   80</span>            <a class="code hl_variable" href="#a8f6720aad631557b7254da5f7ff356ed">AnalogValues</a>[j][i] = 0;</div>
<div class="line"><span class="lineno">   81</span>            <a class="code hl_variable" href="#a53cce0263086fe32524936c007293847">oldAnalogValues</a>[j][i] = 0;</div>
<div class="line"><span class="lineno">   82</span>        }</div>
<div class="line"><span class="lineno">   83</span>    }</div>
<div class="line"><span class="lineno">   84</span> </div>
<div class="line"><span class="lineno">   85</span>    <a class="code hl_variable" href="#ae270bdec0bf6dbb5a0558aec3858c5ce">ledstate</a> = 0b00000000;</div>
<div class="line"><span class="lineno">   86</span> </div>
<div class="line"><span class="lineno">   87</span>    <a class="code hl_function" href="_logging_8h.html#a32abad09d9f828a9805862e18ad5da5f">log</a>(<a class="code hl_enumvalue" href="_logging_8h.html#aca1fd1d8935433e6ba2e3918214e07f9a6e98ff471e3ce6c4ef2d75c37ee51837">LOG_INFO</a>, <span class="stringliteral">&quot;Initialized.&quot;</span>);</div>
<div class="line"><span class="lineno">   88</span>}</div>
<div class="ttc" id="a_logging_8h_html_aca1fd1d8935433e6ba2e3918214e07f9a6e98ff471e3ce6c4ef2d75c37ee51837"><div class="ttname"><a href="_logging_8h.html#aca1fd1d8935433e6ba2e3918214e07f9a6e98ff471e3ce6c4ef2d75c37ee51837">LOG_INFO</a></div><div class="ttdeci">@ LOG_INFO</div><div class="ttdef"><b>Definition</b> <a href="_logging_8h_source.html#l00021">Logging.h:21</a></div></div>
<div class="ttc" id="a_logging_8h_html_aca1fd1d8935433e6ba2e3918214e07f9ac74e4f8b7fa7b544b66d09e854b8773a"><div class="ttname"><a href="_logging_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ac74e4f8b7fa7b544b66d09e854b8773a">LOG_VERBOSE</a></div><div class="ttdeci">@ LOG_VERBOSE</div><div class="ttdef"><b>Definition</b> <a href="_logging_8h_source.html#l00020">Logging.h:20</a></div></div>
<div class="ttc" id="aclass_hardware_manager_html_a315dc1caa02e610f91b1a612bda30b3f"><div class="ttname"><a href="#a315dc1caa02e610f91b1a612bda30b3f">HardwareManager::MuxAddressPins</a></div><div class="ttdeci">uint MuxAddressPins[4]</div><div class="ttdoc">Enable lines for each analog multiplexer.</div><div class="ttdef"><b>Definition</b> <a href="_hardware_manager_8h_source.html#l00041">HardwareManager.h:41</a></div></div>
<div class="ttc" id="aclass_hardware_manager_html_aaf70a4835af8352a2af86b9679b89d41"><div class="ttname"><a href="#aaf70a4835af8352a2af86b9679b89d41">HardwareManager::loadKnobs</a></div><div class="ttdeci">void loadKnobs()</div><div class="ttdoc">Loads the knob configuration from EEPROM or persistent storage.</div><div class="ttdef"><b>Definition</b> <a href="_hardware_manager_8cpp_source.html#l00118">HardwareManager.cpp:118</a></div></div>
<div class="ttc" id="aclass_hardware_manager_html_ae436f35ee0851ca0dad3f0f0c9ad83ea"><div class="ttname"><a href="#ae436f35ee0851ca0dad3f0f0c9ad83ea">HardwareManager::onPG800ClockFall</a></div><div class="ttdeci">static void onPG800ClockFall()</div><div class="ttdoc">ISR for clocking out serial bits.</div><div class="ttdef"><b>Definition</b> <a href="_hardware_manager_8cpp_source.html#l00493">HardwareManager.cpp:493</a></div></div>
<div class="ttc" id="adefines_8h_html_a080eb3794855f7da383bb3d59aa51b86"><div class="ttname"><a href="defines_8h.html#a080eb3794855f7da383bb3d59aa51b86">PUSH_BTN_SW3_PIN</a></div><div class="ttdeci">#define PUSH_BTN_SW3_PIN</div><div class="ttdef"><b>Definition</b> <a href="defines_8h_source.html#l00044">defines.h:44</a></div></div>
<div class="ttc" id="adefines_8h_html_a1ee5f4c034a6dbd7f5f9d30a7c7621d7"><div class="ttname"><a href="defines_8h.html#a1ee5f4c034a6dbd7f5f9d30a7c7621d7">PUSH_BTN_SW1_PIN</a></div><div class="ttdeci">#define PUSH_BTN_SW1_PIN</div><div class="ttdef"><b>Definition</b> <a href="defines_8h_source.html#l00046">defines.h:46</a></div></div>
<div class="ttc" id="adefines_8h_html_a3c79e4c4e3c98acfbb5ce2610850c837"><div class="ttname"><a href="defines_8h.html#a3c79e4c4e3c98acfbb5ce2610850c837">SHIFT_REG_SRCLK</a></div><div class="ttdeci">#define SHIFT_REG_SRCLK</div><div class="ttdef"><b>Definition</b> <a href="defines_8h_source.html#l00053">defines.h:53</a></div></div>
<div class="ttc" id="adefines_8h_html_a3cee117709e9b71f2384746e11d846b8"><div class="ttname"><a href="defines_8h.html#a3cee117709e9b71f2384746e11d846b8">DATA_OUT_PIN</a></div><div class="ttdeci">#define DATA_OUT_PIN</div><div class="ttdef"><b>Definition</b> <a href="defines_8h_source.html#l00037">defines.h:37</a></div></div>
<div class="ttc" id="adefines_8h_html_a3e2406b11040fab176d3ae938bb36fb4"><div class="ttname"><a href="defines_8h.html#a3e2406b11040fab176d3ae938bb36fb4">PUSH_BTN_SW2_PIN</a></div><div class="ttdeci">#define PUSH_BTN_SW2_PIN</div><div class="ttdef"><b>Definition</b> <a href="defines_8h_source.html#l00045">defines.h:45</a></div></div>
<div class="ttc" id="adefines_8h_html_a541f931e7d08042d778592d4f38bd403"><div class="ttname"><a href="defines_8h.html#a541f931e7d08042d778592d4f38bd403">PUSH_BTN_SW4_PIN</a></div><div class="ttdeci">#define PUSH_BTN_SW4_PIN</div><div class="ttdef"><b>Definition</b> <a href="defines_8h_source.html#l00043">defines.h:43</a></div></div>
<div class="ttc" id="adefines_8h_html_a69905d626cf4151cb01579783c88c863"><div class="ttname"><a href="defines_8h.html#a69905d626cf4151cb01579783c88c863">ENCODER_CLK_PIN</a></div><div class="ttdeci">#define ENCODER_CLK_PIN</div><div class="ttdef"><b>Definition</b> <a href="defines_8h_source.html#l00057">defines.h:57</a></div></div>
<div class="ttc" id="adefines_8h_html_a7e66659a0a4957d6723f5d750a08a14d"><div class="ttname"><a href="defines_8h.html#a7e66659a0a4957d6723f5d750a08a14d">SHIFT_REG_SER</a></div><div class="ttdeci">#define SHIFT_REG_SER</div><div class="ttdef"><b>Definition</b> <a href="defines_8h_source.html#l00052">defines.h:52</a></div></div>
<div class="ttc" id="adefines_8h_html_aaf8543438455236887373a4b15f25ce8"><div class="ttname"><a href="defines_8h.html#aaf8543438455236887373a4b15f25ce8">CLOCK_IN_PIN</a></div><div class="ttdeci">#define CLOCK_IN_PIN</div><div class="ttdef"><b>Definition</b> <a href="defines_8h_source.html#l00036">defines.h:36</a></div></div>
<div class="ttc" id="adefines_8h_html_ac85e335442c235cb773d5742c9ef85bb"><div class="ttname"><a href="defines_8h.html#ac85e335442c235cb773d5742c9ef85bb">ENCODER_DT_PIN</a></div><div class="ttdeci">#define ENCODER_DT_PIN</div><div class="ttdef"><b>Definition</b> <a href="defines_8h_source.html#l00058">defines.h:58</a></div></div>
<div class="ttc" id="adefines_8h_html_ad35e229b7d7271d26abe3244374f7159"><div class="ttname"><a href="defines_8h.html#ad35e229b7d7271d26abe3244374f7159">SHIFT_REG_RCLK</a></div><div class="ttdeci">#define SHIFT_REG_RCLK</div><div class="ttdef"><b>Definition</b> <a href="defines_8h_source.html#l00054">defines.h:54</a></div></div>
<div class="ttc" id="adefines_8h_html_ae6596c668bf9f30d1c6a52785ae33f79"><div class="ttname"><a href="defines_8h.html#ae6596c668bf9f30d1c6a52785ae33f79">READYOUT_PIN</a></div><div class="ttdeci">#define READYOUT_PIN</div><div class="ttdef"><b>Definition</b> <a href="defines_8h_source.html#l00035">defines.h:35</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" loading="lazy" frameborder="0" src="class_hardware_manager_acbee566327ea9e237566823f46dfcac5_cgraph.svg" width="408" height="151"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ac05c3327a4bedb62f953d15f64c98348" name="ac05c3327a4bedb62f953d15f64c98348"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac05c3327a4bedb62f953d15f64c98348">&#9670;&#160;</a></span>isButtonPressed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool HardwareManager::isButtonPressed </td>
          <td>(</td>
          <td class="paramtype">uint</td>          <td class="paramname"><span class="paramname"><em>index</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if the specified button is currently pressed. </p>
<p>Checks whether a specified button is currently pressed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">index</td><td>Button index (0 to NUM_BUTTONS-1) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if pressed</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">index</td><td>Button index. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if pressed, false otherwise. </dd></dl>

<p class="definition">Definition at line <a class="el" href="_hardware_manager_8cpp_source.html#l00200">200</a> of file <a class="el" href="_hardware_manager_8cpp_source.html">HardwareManager.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  200</span>                                                {</div>
<div class="line"><span class="lineno">  201</span>    <span class="keywordflow">if</span>(index &gt;= <a class="code hl_define" href="defines_8h.html#a45add6b39f5b0c0137de978b90e26b5d">NUM_BUTTONS</a>) {</div>
<div class="line"><span class="lineno">  202</span>      <a class="code hl_function" href="_logging_8h.html#a32abad09d9f828a9805862e18ad5da5f">log</a>(<a class="code hl_enumvalue" href="_logging_8h.html#aca1fd1d8935433e6ba2e3918214e07f9a230506cce5c68c3bac5a821c42ed3473">LOG_ERROR</a>, <span class="stringliteral">&quot;HardwareManager::isButtonPressed() invoked with index larger than number of defined buttons.&quot;</span>);</div>
<div class="line"><span class="lineno">  203</span>      <span class="keywordflow">return</span> <a class="code hl_variable" href="#a0a79ed924f6537f4b28e17bfc495e840">buttonStates</a>[0];</div>
<div class="line"><span class="lineno">  204</span>    }</div>
<div class="line"><span class="lineno">  205</span> </div>
<div class="line"><span class="lineno">  206</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="#a0a79ed924f6537f4b28e17bfc495e840">buttonStates</a>[index];</div>
<div class="line"><span class="lineno">  207</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" loading="lazy" frameborder="0" src="class_hardware_manager_ac05c3327a4bedb62f953d15f64c98348_cgraph.svg" width="280" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a8ccfd2a833eb6826587dba7a4d97c331" name="a8ccfd2a833eb6826587dba7a4d97c331"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ccfd2a833eb6826587dba7a4d97c331">&#9670;&#160;</a></span>knobChanged()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool HardwareManager::knobChanged </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>i</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Detects change in knob value. </p>
<p>Compares current and backup knob configurations to detect changes.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">i</td><td>Index of the knob configuration to compare. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the configuration has changed. </dd></dl>

<p class="definition">Definition at line <a class="el" href="_hardware_manager_8cpp_source.html#l00156">156</a> of file <a class="el" href="_hardware_manager_8cpp_source.html">HardwareManager.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  156</span>                                       {</div>
<div class="line"><span class="lineno">  157</span>  <span class="keywordflow">return</span> memcmp(&amp;<a class="code hl_variable" href="#ab9756835f0b098ac288628f4c4139ca2">knobConfigurations</a>[i], &amp;<a class="code hl_variable" href="#a5a834a463d4b5ef9e69a37001c60768e">knobConfigurations_bkup</a>[i], <span class="keyword">sizeof</span>(knobConfig)) != 0;</div>
<div class="line"><span class="lineno">  158</span>}</div>
<div class="ttc" id="aclass_hardware_manager_html_a5a834a463d4b5ef9e69a37001c60768e"><div class="ttname"><a href="#a5a834a463d4b5ef9e69a37001c60768e">HardwareManager::knobConfigurations_bkup</a></div><div class="ttdeci">knobConfig knobConfigurations_bkup[NUM_KNOBS]</div><div class="ttdoc">Backup mapping.</div><div class="ttdef"><b>Definition</b> <a href="_hardware_manager_8h_source.html#l00071">HardwareManager.h:71</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" loading="lazy" frameborder="0" src="class_hardware_manager_a8ccfd2a833eb6826587dba7a4d97c331_icgraph.svg" width="475" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="aaf70a4835af8352a2af86b9679b89d41" name="aaf70a4835af8352a2af86b9679b89d41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf70a4835af8352a2af86b9679b89d41">&#9670;&#160;</a></span>loadKnobs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HardwareManager::loadKnobs </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Loads the knob configuration from EEPROM or persistent storage. </p>
<p>Loads knob configuration data from EEPROM.</p>
<p>Restores knob mappings and names from persistent storage, padding names if necessary. </p>

<p class="definition">Definition at line <a class="el" href="_hardware_manager_8cpp_source.html#l00118">118</a> of file <a class="el" href="_hardware_manager_8cpp_source.html">HardwareManager.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  118</span>                                {</div>
<div class="line"><span class="lineno">  119</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code hl_define" href="defines_8h.html#a87f435a777fc58e1d3c4630bb8e632b3">NUM_KNOBS</a>; i++) {</div>
<div class="line"><span class="lineno">  120</span>    <span class="keywordtype">int</span> addr = i * <span class="keyword">sizeof</span>(knobConfig);</div>
<div class="line"><span class="lineno">  121</span>    EEPROM.get(addr, <a class="code hl_variable" href="#ab9756835f0b098ac288628f4c4139ca2">knobConfigurations</a>[i]);</div>
<div class="line"><span class="lineno">  122</span>    <span class="keywordflow">while</span>(strlen(<a class="code hl_variable" href="#ab9756835f0b098ac288628f4c4139ca2">knobConfigurations</a>[i].name) &lt; 14)</div>
<div class="line"><span class="lineno">  123</span>      strcat(<a class="code hl_variable" href="#ab9756835f0b098ac288628f4c4139ca2">knobConfigurations</a>[i].name,<span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><span class="lineno">  124</span>  }</div>
<div class="line"><span class="lineno">  125</span> </div>
<div class="line"><span class="lineno">  126</span>  memcpy(<a class="code hl_variable" href="#a5a834a463d4b5ef9e69a37001c60768e">knobConfigurations_bkup</a>, <a class="code hl_variable" href="#ab9756835f0b098ac288628f4c4139ca2">knobConfigurations</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="#ab9756835f0b098ac288628f4c4139ca2">knobConfigurations</a>));</div>
<div class="line"><span class="lineno">  127</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" loading="lazy" frameborder="0" src="class_hardware_manager_aaf70a4835af8352a2af86b9679b89d41_icgraph.svg" width="408" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a6f45e846ef082a37a2bd2d3edf9efb5b" name="a6f45e846ef082a37a2bd2d3edf9efb5b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f45e846ef082a37a2bd2d3edf9efb5b">&#9670;&#160;</a></span>loop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HardwareManager::loop </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Main polling loop, throttled to a fixed interval. </p>
<p>Main loop that periodically polls input states. </p>

<p class="definition">Definition at line <a class="el" href="_hardware_manager_8cpp_source.html#l00164">164</a> of file <a class="el" href="_hardware_manager_8cpp_source.html">HardwareManager.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  164</span>                           {</div>
<div class="line"><span class="lineno">  165</span>    <span class="keywordflow">if</span> (millis() - <a class="code hl_variable" href="#a26b5a0c399598a73399c33cb42195404">lastPollTime</a> &lt; <a class="code hl_variable" href="#a6a90392542468cb4d057b7e1aa3b2aad">hardwareManagerPollIntervalMS</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  166</span>    <a class="code hl_variable" href="#a26b5a0c399598a73399c33cb42195404">lastPollTime</a> = millis();</div>
<div class="line"><span class="lineno">  167</span> </div>
<div class="line"><span class="lineno">  168</span>    <a class="code hl_function" href="#a4a7cab7ae0b5071b0557905000f46806">gatherControlSettings</a>();</div>
<div class="line"><span class="lineno">  169</span>}</div>
<div class="ttc" id="aclass_hardware_manager_html_a26b5a0c399598a73399c33cb42195404"><div class="ttname"><a href="#a26b5a0c399598a73399c33cb42195404">HardwareManager::lastPollTime</a></div><div class="ttdeci">unsigned long lastPollTime</div><div class="ttdef"><b>Definition</b> <a href="_hardware_manager_8h_source.html#l00036">HardwareManager.h:36</a></div></div>
<div class="ttc" id="aclass_hardware_manager_html_a4a7cab7ae0b5071b0557905000f46806"><div class="ttname"><a href="#a4a7cab7ae0b5071b0557905000f46806">HardwareManager::gatherControlSettings</a></div><div class="ttdeci">void gatherControlSettings()</div><div class="ttdoc">Reads all analog and digital inputs.</div><div class="ttdef"><b>Definition</b> <a href="_hardware_manager_8cpp_source.html#l00219">HardwareManager.cpp:219</a></div></div>
<div class="ttc" id="aclass_hardware_manager_html_a6a90392542468cb4d057b7e1aa3b2aad"><div class="ttname"><a href="#a6a90392542468cb4d057b7e1aa3b2aad">HardwareManager::hardwareManagerPollIntervalMS</a></div><div class="ttdeci">const unsigned long hardwareManagerPollIntervalMS</div><div class="ttdef"><b>Definition</b> <a href="_hardware_manager_8h_source.html#l00037">HardwareManager.h:37</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" loading="lazy" frameborder="0" src="class_hardware_manager_a6f45e846ef082a37a2bd2d3edf9efb5b_cgraph.svg" width="1007" height="102"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ae436f35ee0851ca0dad3f0f0c9ad83ea" name="ae436f35ee0851ca0dad3f0f0c9ad83ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae436f35ee0851ca0dad3f0f0c9ad83ea">&#9670;&#160;</a></span>onPG800ClockFall()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void HardwareManager::onPG800ClockFall </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>ISR for clocking out serial bits. </p>
<p>interrupt routine triggered by a falling clock edge, used to clock out serial bits one by one to the JX-8P using inverted logic signaling</p>
<p>This function is called when the clock pin goes low, indicating that the next bit should be sent. It shifts out the next bit from the sendBuffer and updates the DATA_OUT_PIN accordingly. If all bits have been sent, it resets the bitIndex and sets the READYOUT_PIN low to indicate the end of transmission. This function is designed to be called in an interrupt context, so it should be as fast as possible. </p>

<p class="definition">Definition at line <a class="el" href="_hardware_manager_8cpp_source.html#l00493">493</a> of file <a class="el" href="_hardware_manager_8cpp_source.html">HardwareManager.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  493</span>                                       {</div>
<div class="line"><span class="lineno">  494</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="#a2ec9120b97897bbf139ce6364ec245fc">bitIndex</a> &lt; 0) <span class="keywordflow">return</span>;  <span class="comment">// Not currently sending</span></div>
<div class="line"><span class="lineno">  495</span> </div>
<div class="line"><span class="lineno">  496</span>  delayMicroseconds(10);</div>
<div class="line"><span class="lineno">  497</span>  <span class="comment">// DATA is negative logic, so we invert the bit</span></div>
<div class="line"><span class="lineno">  498</span>  <span class="keywordtype">bool</span> bit = (<a class="code hl_variable" href="#acfc375a757daaa27f18d76c67f18307f">sendBuffer</a> &gt;&gt; <a class="code hl_variable" href="#a2ec9120b97897bbf139ce6364ec245fc">bitIndex</a>) &amp; 1;</div>
<div class="line"><span class="lineno">  499</span>  digitalWrite(<a class="code hl_define" href="defines_8h.html#a3cee117709e9b71f2384746e11d846b8">DATA_OUT_PIN</a>, bit ? LOW : HIGH);  <span class="comment">// inverted logic</span></div>
<div class="line"><span class="lineno">  500</span> </div>
<div class="line"><span class="lineno">  501</span>  <a class="code hl_variable" href="#a2ec9120b97897bbf139ce6364ec245fc">bitIndex</a>--;</div>
<div class="line"><span class="lineno">  502</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="#a2ec9120b97897bbf139ce6364ec245fc">bitIndex</a> &lt; 0) {</div>
<div class="line"><span class="lineno">  503</span>    delayMicroseconds(5);</div>
<div class="line"><span class="lineno">  504</span>    digitalWrite(<a class="code hl_define" href="defines_8h.html#ae6596c668bf9f30d1c6a52785ae33f79">READYOUT_PIN</a>, LOW);           <span class="comment">// End of transfer</span></div>
<div class="line"><span class="lineno">  505</span>    delayMicroseconds(10);</div>
<div class="line"><span class="lineno">  506</span>    digitalWrite(<a class="code hl_define" href="defines_8h.html#a3cee117709e9b71f2384746e11d846b8">DATA_OUT_PIN</a>, LOW);           <span class="comment">// Idle state</span></div>
<div class="line"><span class="lineno">  507</span>  }</div>
<div class="line"><span class="lineno">  508</span>}</div>
<div class="ttc" id="aclass_hardware_manager_html_a2ec9120b97897bbf139ce6364ec245fc"><div class="ttname"><a href="#a2ec9120b97897bbf139ce6364ec245fc">HardwareManager::bitIndex</a></div><div class="ttdeci">static volatile int bitIndex</div><div class="ttdoc">Serial transmission bit index.</div><div class="ttdef"><b>Definition</b> <a href="_hardware_manager_8h_source.html#l00068">HardwareManager.h:68</a></div></div>
<div class="ttc" id="aclass_hardware_manager_html_acfc375a757daaa27f18d76c67f18307f"><div class="ttname"><a href="#acfc375a757daaa27f18d76c67f18307f">HardwareManager::sendBuffer</a></div><div class="ttdeci">static volatile uint16_t sendBuffer</div><div class="ttdoc">Serial transmission buffer.</div><div class="ttdef"><b>Definition</b> <a href="_hardware_manager_8h_source.html#l00069">HardwareManager.h:69</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" loading="lazy" frameborder="0" src="class_hardware_manager_ae436f35ee0851ca0dad3f0f0c9ad83ea_icgraph.svg" width="400" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="abd678fae41765624bb05aed23f7a1785" name="abd678fae41765624bb05aed23f7a1785"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd678fae41765624bb05aed23f7a1785">&#9670;&#160;</a></span>redIsLit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool HardwareManager::redIsLit </td>
          <td>(</td>
          <td class="paramtype">uint</td>          <td class="paramname"><span class="paramname"><em>buttonId</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if the red LED is lit for a given button. </p>
<p>Returns true if the red LED is currently lit for the given button.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buttonId</td><td>Button index </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if red LED is on</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buttonId</td><td>Logical button ID. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if lit. </dd></dl>

<p class="definition">Definition at line <a class="el" href="_hardware_manager_8cpp_source.html#l00240">240</a> of file <a class="el" href="_hardware_manager_8cpp_source.html">HardwareManager.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  240</span>                                            {</div>
<div class="line"><span class="lineno">  241</span>  <span class="keywordflow">if</span>(buttonId &gt;= <a class="code hl_define" href="defines_8h.html#a45add6b39f5b0c0137de978b90e26b5d">NUM_BUTTONS</a>) {</div>
<div class="line"><span class="lineno">  242</span>    <a class="code hl_function" href="_logging_8h.html#a32abad09d9f828a9805862e18ad5da5f">log</a>(<a class="code hl_enumvalue" href="_logging_8h.html#aca1fd1d8935433e6ba2e3918214e07f9a230506cce5c68c3bac5a821c42ed3473">LOG_ERROR</a>, <span class="stringliteral">&quot;invalid button number passed to HardwareManager::redIsLit()&quot;</span>);</div>
<div class="line"><span class="lineno">  243</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  244</span>  }</div>
<div class="line"><span class="lineno">  245</span>  </div>
<div class="line"><span class="lineno">  246</span>  buttonId = <a class="code hl_define" href="defines_8h.html#a45add6b39f5b0c0137de978b90e26b5d">NUM_BUTTONS</a> - 1 - buttonId;</div>
<div class="line"><span class="lineno">  247</span>  uint bitPos = buttonId * 2; <span class="comment">// Red LED bit</span></div>
<div class="line"><span class="lineno">  248</span>  <span class="keywordflow">return</span> (<a class="code hl_variable" href="#ae270bdec0bf6dbb5a0558aec3858c5ce">ledstate</a> &amp; (1 &lt;&lt; bitPos)) != 0;</div>
<div class="line"><span class="lineno">  249</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" loading="lazy" frameborder="0" src="class_hardware_manager_abd678fae41765624bb05aed23f7a1785_cgraph.svg" width="276" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a7777c52d0ef47ddf60e84beeedf39cc0" name="a7777c52d0ef47ddf60e84beeedf39cc0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7777c52d0ef47ddf60e84beeedf39cc0">&#9670;&#160;</a></span>resetEncoder()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HardwareManager::resetEncoder </td>
          <td>(</td>
          <td class="paramtype">uint</td>          <td class="paramname"><span class="paramname"><em>i</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resets the encoderâ€™s internal count to a specific value. </p>
<p>Resets the encoder to a specified position.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">i</td><td>New count value</td></tr>
    <tr><td class="paramname">i</td><td>New encoder value. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_hardware_manager_8cpp_source.html#l00375">375</a> of file <a class="el" href="_hardware_manager_8cpp_source.html">HardwareManager.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  375</span>                                         {</div>
<div class="line"><span class="lineno">  376</span>  <a class="code hl_variable" href="#a48dad7203dfb3cdaa646678c0f4f16b4">encoderKnob</a>-&gt;write(i);</div>
<div class="line"><span class="lineno">  377</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aac5863c15f10f28dc888d496eadf0d70" name="aac5863c15f10f28dc888d496eadf0d70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac5863c15f10f28dc888d496eadf0d70">&#9670;&#160;</a></span>restoreLedState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HardwareManager::restoreLedState </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Restores the previously saved LED state. </p>
<p>Restores the LED state from the previously saved value. </p>

<p class="definition">Definition at line <a class="el" href="_hardware_manager_8cpp_source.html#l00527">527</a> of file <a class="el" href="_hardware_manager_8cpp_source.html">HardwareManager.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  527</span>                                      {</div>
<div class="line"><span class="lineno">  528</span>  <a class="code hl_variable" href="#ae270bdec0bf6dbb5a0558aec3858c5ce">ledstate</a> = <a class="code hl_variable" href="#ab14567b2aa576fcbe6f8be034b3c6427">prevLedState</a>;</div>
<div class="line"><span class="lineno">  529</span>}</div>
<div class="ttc" id="aclass_hardware_manager_html_ab14567b2aa576fcbe6f8be034b3c6427"><div class="ttname"><a href="#ab14567b2aa576fcbe6f8be034b3c6427">HardwareManager::prevLedState</a></div><div class="ttdeci">uint8_t prevLedState</div><div class="ttdoc">Bitfield representing previous LED state.</div><div class="ttdef"><b>Definition</b> <a href="_hardware_manager_8h_source.html#l00050">HardwareManager.h:50</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a323515123ec033d7e4761cd1ad0f7674" name="a323515123ec033d7e4761cd1ad0f7674"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a323515123ec033d7e4761cd1ad0f7674">&#9670;&#160;</a></span>saveKnobs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HardwareManager::saveKnobs </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Saves the current knob configuration to EEPROM. </p>
<p>Saves knob configurations to EEPROM only if modified. </p>

<p class="definition">Definition at line <a class="el" href="_hardware_manager_8cpp_source.html#l00132">132</a> of file <a class="el" href="_hardware_manager_8cpp_source.html">HardwareManager.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  132</span>                                {</div>
<div class="line"><span class="lineno">  133</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code hl_define" href="defines_8h.html#a87f435a777fc58e1d3c4630bb8e632b3">NUM_KNOBS</a>; i++) {</div>
<div class="line"><span class="lineno">  134</span>    <span class="keywordflow">while</span>(strlen(<a class="code hl_variable" href="#ab9756835f0b098ac288628f4c4139ca2">knobConfigurations</a>[i].name) &lt; 14)</div>
<div class="line"><span class="lineno">  135</span>      strcat(<a class="code hl_variable" href="#ab9756835f0b098ac288628f4c4139ca2">knobConfigurations</a>[i].name,<span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><span class="lineno">  136</span>    <span class="keywordtype">int</span> addr = i * <span class="keyword">sizeof</span>(knobConfig);</div>
<div class="line"><span class="lineno">  137</span> </div>
<div class="line"><span class="lineno">  138</span>    <span class="keywordflow">if</span>(<a class="code hl_function" href="#a8ccfd2a833eb6826587dba7a4d97c331">knobChanged</a>(i)) { <span class="comment">// optimization that reduces wear on EEPROM</span></div>
<div class="line"><span class="lineno">  139</span>      EEPROM.put(addr, <a class="code hl_variable" href="#ab9756835f0b098ac288628f4c4139ca2">knobConfigurations</a>[i]);</div>
<div class="line"><span class="lineno">  140</span>      <a class="code hl_function" href="_logging_8h.html#a32abad09d9f828a9805862e18ad5da5f">log</a>(<a class="code hl_enumvalue" href="_logging_8h.html#aca1fd1d8935433e6ba2e3918214e07f9a6e98ff471e3ce6c4ef2d75c37ee51837">LOG_INFO</a>, <span class="stringliteral">&quot;knob changed:     &quot;</span> + String(i));</div>
<div class="line"><span class="lineno">  141</span>    }</div>
<div class="line"><span class="lineno">  142</span>    <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  143</span>      <a class="code hl_function" href="_logging_8h.html#a32abad09d9f828a9805862e18ad5da5f">log</a>(<a class="code hl_enumvalue" href="_logging_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ac74e4f8b7fa7b544b66d09e854b8773a">LOG_VERBOSE</a>, <span class="stringliteral">&quot;knob not changed: &quot;</span> + String(i));</div>
<div class="line"><span class="lineno">  144</span>    }</div>
<div class="line"><span class="lineno">  145</span>  }</div>
<div class="line"><span class="lineno">  146</span>  memcpy(<a class="code hl_variable" href="#a5a834a463d4b5ef9e69a37001c60768e">knobConfigurations_bkup</a>, <a class="code hl_variable" href="#ab9756835f0b098ac288628f4c4139ca2">knobConfigurations</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="#ab9756835f0b098ac288628f4c4139ca2">knobConfigurations</a>));</div>
<div class="line"><span class="lineno">  147</span>}</div>
<div class="ttc" id="aclass_hardware_manager_html_a8ccfd2a833eb6826587dba7a4d97c331"><div class="ttname"><a href="#a8ccfd2a833eb6826587dba7a4d97c331">HardwareManager::knobChanged</a></div><div class="ttdeci">bool knobChanged(int i)</div><div class="ttdoc">Detects change in knob value.</div><div class="ttdef"><b>Definition</b> <a href="_hardware_manager_8cpp_source.html#l00156">HardwareManager.cpp:156</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" loading="lazy" frameborder="0" src="class_hardware_manager_a323515123ec033d7e4761cd1ad0f7674_cgraph.svg" width="475" height="86"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a9e49dcb61d28890a831708d669eebed6" name="a9e49dcb61d28890a831708d669eebed6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e49dcb61d28890a831708d669eebed6">&#9670;&#160;</a></span>saveLedState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HardwareManager::saveLedState </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Saves the current LED state to internal memory. </p>
<p>Saves the current LED state to a backup register. </p>

<p class="definition">Definition at line <a class="el" href="_hardware_manager_8cpp_source.html#l00520">520</a> of file <a class="el" href="_hardware_manager_8cpp_source.html">HardwareManager.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  520</span>                                   {</div>
<div class="line"><span class="lineno">  521</span>  <a class="code hl_variable" href="#ab14567b2aa576fcbe6f8be034b3c6427">prevLedState</a> = <a class="code hl_variable" href="#ae270bdec0bf6dbb5a0558aec3858c5ce">ledstate</a>;</div>
<div class="line"><span class="lineno">  522</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="acc9496217a58084ae0af83c58cf658ea" name="acc9496217a58084ae0af83c58cf658ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc9496217a58084ae0af83c58cf658ea">&#9670;&#160;</a></span>sendParameter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HardwareManager::sendParameter </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>paramID</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>value</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends a parameter command over the serial protocol. </p>
<p>encodes and queues a PG-800-style message for bit-serialized transmission to the JX-8P synth with deduplication and timeout control</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">paramID</td><td>PG-800 parameter ID </td></tr>
    <tr><td class="paramname">value</td><td>Value to send (0â€“127)</td></tr>
    <tr><td class="paramname">paramID</td><td>JX-8P parameter ID. </td></tr>
    <tr><td class="paramname">value</td><td>Parameter value. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_hardware_manager_8cpp_source.html#l00444">444</a> of file <a class="el" href="_hardware_manager_8cpp_source.html">HardwareManager.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  444</span>                                                                  {</div>
<div class="line"><span class="lineno">  445</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> now = millis();</div>
<div class="line"><span class="lineno">  446</span> </div>
<div class="line"><span class="lineno">  447</span>  <span class="comment">// Remove expired entries</span></div>
<div class="line"><span class="lineno">  448</span>  this-&gt;<a class="code hl_variable" href="#a75f06e4bc04d08d6be6e61bc7e3880c9">recentCommands</a>.erase(</div>
<div class="line"><span class="lineno">  449</span>    std::remove_if(<a class="code hl_variable" href="#a75f06e4bc04d08d6be6e61bc7e3880c9">recentCommands</a>.begin(), <a class="code hl_variable" href="#a75f06e4bc04d08d6be6e61bc7e3880c9">recentCommands</a>.end(),</div>
<div class="line"><span class="lineno">  450</span>      [now](<span class="keyword">const</span> SentCommand&amp; cmd) {</div>
<div class="line"><span class="lineno">  451</span>        return now - cmd.timestamp &gt; COMMAND_TIMEOUT;</div>
<div class="line"><span class="lineno">  452</span>      }),</div>
<div class="line"><span class="lineno">  453</span>    this-&gt;recentCommands.end()</div>
<div class="line"><span class="lineno">  454</span>  );</div>
<div class="line"><span class="lineno">  455</span> </div>
<div class="line"><span class="lineno">  456</span>  <span class="comment">// Check for duplicate</span></div>
<div class="line"><span class="lineno">  457</span>  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; cmd : <a class="code hl_variable" href="#a75f06e4bc04d08d6be6e61bc7e3880c9">recentCommands</a>) {</div>
<div class="line"><span class="lineno">  458</span>    <span class="keywordflow">if</span> (cmd.<a class="code hl_variable" href="struct_sent_command.html#a6bd03f07367c4a7a8033c4f2f8183fe1">paramID</a> == paramID &amp;&amp; cmd.<a class="code hl_variable" href="struct_sent_command.html#aa7341c37b068a4b56a108fb90990d102">value</a> == value) {</div>
<div class="line"><span class="lineno">  459</span>      <span class="keywordflow">return</span>;  <span class="comment">// Duplicate within timeout window; do not resend</span></div>
<div class="line"><span class="lineno">  460</span>    }</div>
<div class="line"><span class="lineno">  461</span>  }</div>
<div class="line"><span class="lineno">  462</span> </div>
<div class="line"><span class="lineno">  463</span>  <span class="comment">// Record this command</span></div>
<div class="line"><span class="lineno">  464</span>  <a class="code hl_variable" href="#a75f06e4bc04d08d6be6e61bc7e3880c9">recentCommands</a>.push_back({paramID, value, now});</div>
<div class="line"><span class="lineno">  465</span> </div>
<div class="line"><span class="lineno">  466</span>  <span class="keywordflow">while</span> (<a class="code hl_variable" href="#a2ec9120b97897bbf139ce6364ec245fc">bitIndex</a> != -1 &amp;&amp; (millis() - now &lt; 250) );  <span class="comment">// Wait until previous transfer is complete</span></div>
<div class="line"><span class="lineno">  467</span>  <span class="keywordflow">if</span>(millis() - now &gt;= 250) {</div>
<div class="line"><span class="lineno">  468</span>    <a class="code hl_function" href="_logging_8h.html#a32abad09d9f828a9805862e18ad5da5f">log</a>(<a class="code hl_enumvalue" href="_logging_8h.html#aca1fd1d8935433e6ba2e3918214e07f9a230506cce5c68c3bac5a821c42ed3473">LOG_ERROR</a>, <span class="stringliteral">&quot;problem waiting for bitIndex in sendParameter()&quot;</span>);</div>
<div class="line"><span class="lineno">  469</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  470</span>  }</div>
<div class="line"><span class="lineno">  471</span> </div>
<div class="line"><span class="lineno">  472</span>  noInterrupts();</div>
<div class="line"><span class="lineno">  473</span>  <a class="code hl_variable" href="#acfc375a757daaa27f18d76c67f18307f">sendBuffer</a> = ((uint16_t)paramID &lt;&lt; 8) | value;</div>
<div class="line"><span class="lineno">  474</span>  <a class="code hl_variable" href="#a2ec9120b97897bbf139ce6364ec245fc">bitIndex</a> = 15;</div>
<div class="line"><span class="lineno">  475</span>  <span class="keywordtype">bool</span> bit = (<a class="code hl_variable" href="#acfc375a757daaa27f18d76c67f18307f">sendBuffer</a> &gt;&gt; <a class="code hl_variable" href="#a2ec9120b97897bbf139ce6364ec245fc">bitIndex</a>) &amp; 1;</div>
<div class="line"><span class="lineno">  476</span>  digitalWrite(<a class="code hl_define" href="defines_8h.html#a3cee117709e9b71f2384746e11d846b8">DATA_OUT_PIN</a>, bit ? LOW : HIGH);</div>
<div class="line"><span class="lineno">  477</span>  <a class="code hl_variable" href="#a2ec9120b97897bbf139ce6364ec245fc">bitIndex</a>--;</div>
<div class="line"><span class="lineno">  478</span>  </div>
<div class="line"><span class="lineno">  479</span>  digitalWrite(<a class="code hl_define" href="defines_8h.html#ae6596c668bf9f30d1c6a52785ae33f79">READYOUT_PIN</a>, HIGH);  <span class="comment">// Begin transmission</span></div>
<div class="line"><span class="lineno">  480</span>  <span class="comment">//delayMicroseconds(5);</span></div>
<div class="line"><span class="lineno">  481</span>  interrupts();</div>
<div class="line"><span class="lineno">  482</span>}</div>
<div class="ttc" id="aclass_hardware_manager_html_a75f06e4bc04d08d6be6e61bc7e3880c9"><div class="ttname"><a href="#a75f06e4bc04d08d6be6e61bc7e3880c9">HardwareManager::recentCommands</a></div><div class="ttdeci">std::vector&lt; SentCommand &gt; recentCommands</div><div class="ttdoc">Rolling log of recently sent PG-800 commands.</div><div class="ttdef"><b>Definition</b> <a href="_hardware_manager_8h_source.html#l00067">HardwareManager.h:67</a></div></div>
<div class="ttc" id="astruct_sent_command_html_a6bd03f07367c4a7a8033c4f2f8183fe1"><div class="ttname"><a href="struct_sent_command.html#a6bd03f07367c4a7a8033c4f2f8183fe1">SentCommand::paramID</a></div><div class="ttdeci">uint8_t paramID</div><div class="ttdoc">PG-800 parameter ID.</div><div class="ttdef"><b>Definition</b> <a href="_hardware_manager_8h_source.html#l00024">HardwareManager.h:24</a></div></div>
<div class="ttc" id="astruct_sent_command_html_aa7341c37b068a4b56a108fb90990d102"><div class="ttname"><a href="struct_sent_command.html#aa7341c37b068a4b56a108fb90990d102">SentCommand::value</a></div><div class="ttdeci">uint8_t value</div><div class="ttdoc">Value associated with the parameter.</div><div class="ttdef"><b>Definition</b> <a href="_hardware_manager_8h_source.html#l00025">HardwareManager.h:25</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" loading="lazy" frameborder="0" src="class_hardware_manager_acc9496217a58084ae0af83c58cf658ea_cgraph.svg" width="320" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="aef067455e10624433ddd360794012151" name="aef067455e10624433ddd360794012151"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef067455e10624433ddd360794012151">&#9670;&#160;</a></span>setAddressPins()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void HardwareManager::setAddressPins </td>
          <td>(</td>
          <td class="paramtype">uint</td>          <td class="paramname"><span class="paramname"><em>val</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets the MUX address lines. </p>
<p>Writes a 4-bit address to the MUX selector pins to select an analog channel.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">val</td><td>4-bit address. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_hardware_manager_8cpp_source.html#l00362">362</a> of file <a class="el" href="_hardware_manager_8cpp_source.html">HardwareManager.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  362</span>                                             {</div>
<div class="line"><span class="lineno">  363</span>  <span class="keywordflow">if</span>(val &amp; 0x01) digitalWrite(<a class="code hl_define" href="defines_8h.html#a44723db4e11f34a0ad8759574d637e1d">S0_PIN</a>, HIGH); <span class="keywordflow">else</span> digitalWrite(<a class="code hl_define" href="defines_8h.html#a44723db4e11f34a0ad8759574d637e1d">S0_PIN</a>, LOW);</div>
<div class="line"><span class="lineno">  364</span>  <span class="keywordflow">if</span>(val &amp; 0x02) digitalWrite(<a class="code hl_define" href="defines_8h.html#a8766620bcdd3b4ffdae69e99def6458e">S1_PIN</a>, HIGH); <span class="keywordflow">else</span> digitalWrite(<a class="code hl_define" href="defines_8h.html#a8766620bcdd3b4ffdae69e99def6458e">S1_PIN</a>, LOW);</div>
<div class="line"><span class="lineno">  365</span>  <span class="keywordflow">if</span>(val &amp; 0x04) digitalWrite(<a class="code hl_define" href="defines_8h.html#ad50338afe7b10c1aa188fde925109853">S2_PIN</a>, HIGH); <span class="keywordflow">else</span> digitalWrite(<a class="code hl_define" href="defines_8h.html#ad50338afe7b10c1aa188fde925109853">S2_PIN</a>, LOW);</div>
<div class="line"><span class="lineno">  366</span>  <span class="keywordflow">if</span>(val &amp; 0x08) digitalWrite(<a class="code hl_define" href="defines_8h.html#aeff05ff93deed7ec7c197dfded858bda">S3_PIN</a>, HIGH); <span class="keywordflow">else</span> digitalWrite(<a class="code hl_define" href="defines_8h.html#aeff05ff93deed7ec7c197dfded858bda">S3_PIN</a>, LOW);</div>
<div class="line"><span class="lineno">  367</span>  delayMicroseconds(5);</div>
<div class="line"><span class="lineno">  368</span>}</div>
<div class="ttc" id="adefines_8h_html_a44723db4e11f34a0ad8759574d637e1d"><div class="ttname"><a href="defines_8h.html#a44723db4e11f34a0ad8759574d637e1d">S0_PIN</a></div><div class="ttdeci">#define S0_PIN</div><div class="ttdef"><b>Definition</b> <a href="defines_8h_source.html#l00027">defines.h:27</a></div></div>
<div class="ttc" id="adefines_8h_html_a8766620bcdd3b4ffdae69e99def6458e"><div class="ttname"><a href="defines_8h.html#a8766620bcdd3b4ffdae69e99def6458e">S1_PIN</a></div><div class="ttdeci">#define S1_PIN</div><div class="ttdef"><b>Definition</b> <a href="defines_8h_source.html#l00028">defines.h:28</a></div></div>
<div class="ttc" id="adefines_8h_html_ad50338afe7b10c1aa188fde925109853"><div class="ttname"><a href="defines_8h.html#ad50338afe7b10c1aa188fde925109853">S2_PIN</a></div><div class="ttdeci">#define S2_PIN</div><div class="ttdef"><b>Definition</b> <a href="defines_8h_source.html#l00029">defines.h:29</a></div></div>
<div class="ttc" id="adefines_8h_html_aeff05ff93deed7ec7c197dfded858bda"><div class="ttname"><a href="defines_8h.html#aeff05ff93deed7ec7c197dfded858bda">S3_PIN</a></div><div class="ttdeci">#define S3_PIN</div><div class="ttdef"><b>Definition</b> <a href="defines_8h_source.html#l00030">defines.h:30</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" loading="lazy" frameborder="0" src="class_hardware_manager_aef067455e10624433ddd360794012151_icgraph.svg" width="1007" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a518b4b1ddd898bd2a962392af422614f" name="a518b4b1ddd898bd2a962392af422614f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a518b4b1ddd898bd2a962392af422614f">&#9670;&#160;</a></span>setButtonLights()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HardwareManager::setButtonLights </td>
          <td>(</td>
          <td class="paramtype">uint</td>          <td class="paramname"><span class="paramname"><em>buttonId</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>red</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>green</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the LED colors for a button. </p>
<p>Sets the red and green lights of a button by index.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buttonId</td><td>Button index </td></tr>
    <tr><td class="paramname">red</td><td>Set red LED on/off </td></tr>
    <tr><td class="paramname">green</td><td>Set green LED on/off</td></tr>
    <tr><td class="paramname">buttonId</td><td>Logical ID of the button. </td></tr>
    <tr><td class="paramname">red</td><td>Whether to turn on the red LED. </td></tr>
    <tr><td class="paramname">green</td><td>Whether to turn on the green LED. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_hardware_manager_8cpp_source.html#l00552">552</a> of file <a class="el" href="_hardware_manager_8cpp_source.html">HardwareManager.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  552</span>                                                                         {</div>
<div class="line"><span class="lineno">  553</span>  <span class="comment">// all logging here must check whether Serial is defined because this </span></div>
<div class="line"><span class="lineno">  554</span>  <span class="comment">// code gets used in the logging setup</span></div>
<div class="line"><span class="lineno">  555</span>  <span class="keywordflow">if</span>(buttonId &gt;= <a class="code hl_define" href="defines_8h.html#a45add6b39f5b0c0137de978b90e26b5d">NUM_BUTTONS</a>) {</div>
<div class="line"><span class="lineno">  556</span>    <span class="keywordflow">if</span>(Serial) <a class="code hl_function" href="_logging_8h.html#a32abad09d9f828a9805862e18ad5da5f">log</a>(<a class="code hl_enumvalue" href="_logging_8h.html#aca1fd1d8935433e6ba2e3918214e07f9a230506cce5c68c3bac5a821c42ed3473">LOG_ERROR</a>, <span class="stringliteral">&quot;HardwareManager::setButtonLights() invoked with an invalid button id&quot;</span>);</div>
<div class="line"><span class="lineno">  557</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  558</span>  }</div>
<div class="line"><span class="lineno">  559</span> </div>
<div class="line"><span class="lineno">  560</span>  buttonId = <a class="code hl_define" href="defines_8h.html#a45add6b39f5b0c0137de978b90e26b5d">NUM_BUTTONS</a> - 1 - buttonId;</div>
<div class="line"><span class="lineno">  561</span> </div>
<div class="line"><span class="lineno">  562</span>  <span class="keywordtype">int</span> shift = buttonId * 2;</div>
<div class="line"><span class="lineno">  563</span> </div>
<div class="line"><span class="lineno">  564</span>  <span class="comment">// Clear the two bits for this button</span></div>
<div class="line"><span class="lineno">  565</span>  <a class="code hl_variable" href="#ae270bdec0bf6dbb5a0558aec3858c5ce">ledstate</a> &amp;= ~(0b11 &lt;&lt; shift);</div>
<div class="line"><span class="lineno">  566</span> </div>
<div class="line"><span class="lineno">  567</span>  <span class="comment">// Pack red (MSB) and green (LSB) into two bits</span></div>
<div class="line"><span class="lineno">  568</span>  uint8_t bitsToSet = ((green ? 1 : 0) &lt;&lt; 1) | (red ? 1 : 0);</div>
<div class="line"><span class="lineno">  569</span> </div>
<div class="line"><span class="lineno">  570</span>  <span class="comment">// Set the new bits at the proper location</span></div>
<div class="line"><span class="lineno">  571</span>  <a class="code hl_variable" href="#ae270bdec0bf6dbb5a0558aec3858c5ce">ledstate</a> |= (bitsToSet &lt;&lt; shift);</div>
<div class="line"><span class="lineno">  572</span>  <a class="code hl_function" href="#a69487280dacad30fc7fa1fd58e9e48ca">writeLedRegistersToHardware</a>();</div>
<div class="line"><span class="lineno">  573</span>}</div>
<div class="ttc" id="aclass_hardware_manager_html_a69487280dacad30fc7fa1fd58e9e48ca"><div class="ttname"><a href="#a69487280dacad30fc7fa1fd58e9e48ca">HardwareManager::writeLedRegistersToHardware</a></div><div class="ttdeci">void writeLedRegistersToHardware()</div><div class="ttdoc">Pushes current LED state to shift registers.</div><div class="ttdef"><b>Definition</b> <a href="_hardware_manager_8cpp_source.html#l00415">HardwareManager.cpp:415</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" loading="lazy" frameborder="0" src="class_hardware_manager_a518b4b1ddd898bd2a962392af422614f_cgraph.svg" width="435" height="102"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a04393ce5c07558f919f4473049543260" name="a04393ce5c07558f919f4473049543260"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04393ce5c07558f919f4473049543260">&#9670;&#160;</a></span>updateEncoder()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void HardwareManager::updateEncoder </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reads and updates encoder state. </p>
<p>Reads and updates the encoder position, logs movement. </p>

<p class="definition">Definition at line <a class="el" href="_hardware_manager_8cpp_source.html#l00383">383</a> of file <a class="el" href="_hardware_manager_8cpp_source.html">HardwareManager.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  383</span>                                    {</div>
<div class="line"><span class="lineno">  384</span>  <span class="keywordtype">long</span> newPosition = <a class="code hl_variable" href="#a48dad7203dfb3cdaa646678c0f4f16b4">encoderKnob</a>-&gt;read();</div>
<div class="line"><span class="lineno">  385</span> </div>
<div class="line"><span class="lineno">  386</span>  <span class="keywordflow">if</span>(newPosition &lt; 0) {</div>
<div class="line"><span class="lineno">  387</span>    <a class="code hl_variable" href="#a48dad7203dfb3cdaa646678c0f4f16b4">encoderKnob</a>-&gt;write(0);</div>
<div class="line"><span class="lineno">  388</span>    newPosition = 0;</div>
<div class="line"><span class="lineno">  389</span>  }</div>
<div class="line"><span class="lineno">  390</span> </div>
<div class="line"><span class="lineno">  391</span>  <span class="keywordflow">if</span> (newPosition != <a class="code hl_variable" href="#af4761cefe4c6093de549ae7e5dde75b9">lastEncoderPosition</a>) {</div>
<div class="line"><span class="lineno">  392</span>    <span class="keywordflow">if</span> (newPosition &gt; <a class="code hl_variable" href="#af4761cefe4c6093de549ae7e5dde75b9">lastEncoderPosition</a>) {</div>
<div class="line"><span class="lineno">  393</span>      <a class="code hl_function" href="_logging_8h.html#a32abad09d9f828a9805862e18ad5da5f">log</a>(<a class="code hl_enumvalue" href="_logging_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ac74e4f8b7fa7b544b66d09e854b8773a">LOG_VERBOSE</a>, <span class="stringliteral">&quot;CCW &quot;</span> + String(<a class="code hl_variable" href="#af4761cefe4c6093de549ae7e5dde75b9">lastEncoderPosition</a>&gt;&gt;2));</div>
<div class="line"><span class="lineno">  394</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  395</span>      <a class="code hl_function" href="_logging_8h.html#a32abad09d9f828a9805862e18ad5da5f">log</a>(<a class="code hl_enumvalue" href="_logging_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ac74e4f8b7fa7b544b66d09e854b8773a">LOG_VERBOSE</a>, <span class="stringliteral">&quot;CW  &quot;</span> + String(<a class="code hl_variable" href="#af4761cefe4c6093de549ae7e5dde75b9">lastEncoderPosition</a>&gt;&gt;2));</div>
<div class="line"><span class="lineno">  396</span>    }</div>
<div class="line"><span class="lineno">  397</span> </div>
<div class="line"><span class="lineno">  398</span>    <a class="code hl_variable" href="#af4761cefe4c6093de549ae7e5dde75b9">lastEncoderPosition</a> = newPosition;</div>
<div class="line"><span class="lineno">  399</span>  }</div>
<div class="line"><span class="lineno">  400</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" loading="lazy" frameborder="0" src="class_hardware_manager_a04393ce5c07558f919f4473049543260_cgraph.svg" width="320" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" loading="lazy" frameborder="0" src="class_hardware_manager_a04393ce5c07558f919f4473049543260_icgraph.svg" width="702" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a69487280dacad30fc7fa1fd58e9e48ca" name="a69487280dacad30fc7fa1fd58e9e48ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69487280dacad30fc7fa1fd58e9e48ca">&#9670;&#160;</a></span>writeLedRegistersToHardware()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void HardwareManager::writeLedRegistersToHardware </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pushes current LED state to shift registers. </p>
<p>Sends LED register data to the hardware shift register. </p>

<p class="definition">Definition at line <a class="el" href="_hardware_manager_8cpp_source.html#l00415">415</a> of file <a class="el" href="_hardware_manager_8cpp_source.html">HardwareManager.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  415</span>                                                  {</div>
<div class="line"><span class="lineno">  416</span>  <span class="comment">// make sure to check Serial before doing any logging here.  This is a low level method that gets used </span></div>
<div class="line"><span class="lineno">  417</span>  <span class="comment">// before we know that logging is available.</span></div>
<div class="line"><span class="lineno">  418</span> </div>
<div class="line"><span class="lineno">  419</span>  <span class="keywordtype">byte</span> data = <a class="code hl_variable" href="#ae270bdec0bf6dbb5a0558aec3858c5ce">ledstate</a>;</div>
<div class="line"><span class="lineno">  420</span> </div>
<div class="line"><span class="lineno">  421</span>  digitalWrite(<a class="code hl_define" href="defines_8h.html#ad35e229b7d7271d26abe3244374f7159">SHIFT_REG_RCLK</a>, LOW);  <span class="comment">// Start by disabling latch</span></div>
<div class="line"><span class="lineno">  422</span> </div>
<div class="line"><span class="lineno">  423</span>  <span class="comment">// Shift out 8 bits, MSB first</span></div>
<div class="line"><span class="lineno">  424</span>  <span class="keywordflow">for</span> (int8_t i = 7; i &gt;= 0; i--) {</div>
<div class="line"><span class="lineno">  425</span>    digitalWrite(<a class="code hl_define" href="defines_8h.html#a3c79e4c4e3c98acfbb5ce2610850c837">SHIFT_REG_SRCLK</a>, LOW);  <span class="comment">// Prepare for clock</span></div>
<div class="line"><span class="lineno">  426</span> </div>
<div class="line"><span class="lineno">  427</span>    <span class="keywordtype">bool</span> bitVal = data &amp; (1 &lt;&lt; i);       <span class="comment">// Extract current bit</span></div>
<div class="line"><span class="lineno">  428</span>    digitalWrite(<a class="code hl_define" href="defines_8h.html#a7e66659a0a4957d6723f5d750a08a14d">SHIFT_REG_SER</a>, bitVal); <span class="comment">// Set data line</span></div>
<div class="line"><span class="lineno">  429</span> </div>
<div class="line"><span class="lineno">  430</span>    digitalWrite(<a class="code hl_define" href="defines_8h.html#a3c79e4c4e3c98acfbb5ce2610850c837">SHIFT_REG_SRCLK</a>, HIGH); <span class="comment">// Rising edge clocks bit into register</span></div>
<div class="line"><span class="lineno">  431</span>  }</div>
<div class="line"><span class="lineno">  432</span> </div>
<div class="line"><span class="lineno">  433</span>  digitalWrite(<a class="code hl_define" href="defines_8h.html#ad35e229b7d7271d26abe3244374f7159">SHIFT_REG_RCLK</a>, HIGH);    <span class="comment">// Latch data to output pins</span></div>
<div class="line"><span class="lineno">  434</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" loading="lazy" frameborder="0" src="class_hardware_manager_a69487280dacad30fc7fa1fd58e9e48ca_icgraph.svg" width="435" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a name="doc-variable-members" id="doc-variable-members"></a><h2 id="header-doc-variable-members" class="groupheader">Member Data Documentation</h2>
<a id="a2e85929fcd71e50c6913d623577dbeb8" name="a2e85929fcd71e50c6913d623577dbeb8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e85929fcd71e50c6913d623577dbeb8">&#9670;&#160;</a></span>adc</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ADC HardwareManager::adc</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>ADC manager for Teensy analog reads. </p>

<p class="definition">Definition at line <a class="el" href="_hardware_manager_8h_source.html#l00061">61</a> of file <a class="el" href="_hardware_manager_8h_source.html">HardwareManager.h</a>.</p>

</div>
</div>
<a id="a8ad6a46ff803f39bbe5c7b99d5dc1118" name="a8ad6a46ff803f39bbe5c7b99d5dc1118"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ad6a46ff803f39bbe5c7b99d5dc1118">&#9670;&#160;</a></span>analogInPins</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint8_t HardwareManager::analogInPins[<a class="el" href="defines_8h.html#a006a61e230d20d998a18bf2fbf562947">NUM_MUXES</a>] = { <a class="el" href="defines_8h.html#a801cef580ffdeccbec9c07edd619158d">U2_ANALOG_IN_PIN</a>, <a class="el" href="defines_8h.html#a185a9265a6f3f9c91ed062d5e5998ee9">U3_ANALOG_IN_PIN</a>, <a class="el" href="defines_8h.html#a558ac377e980e1436207d781314b30b4">U4_ANALOG_IN_PIN</a> , <a class="el" href="defines_8h.html#a764b847ee654d0221b8cb323de5d95c7">U6_ANALOG_IN_PIN</a> }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>ADC pins corresponding to each MUX. </p>

<p class="definition">Definition at line <a class="el" href="_hardware_manager_8h_source.html#l00064">64</a> of file <a class="el" href="_hardware_manager_8h_source.html">HardwareManager.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   64</span>{ <a class="code hl_define" href="defines_8h.html#a801cef580ffdeccbec9c07edd619158d">U2_ANALOG_IN_PIN</a>, <a class="code hl_define" href="defines_8h.html#a185a9265a6f3f9c91ed062d5e5998ee9">U3_ANALOG_IN_PIN</a>, <a class="code hl_define" href="defines_8h.html#a558ac377e980e1436207d781314b30b4">U4_ANALOG_IN_PIN</a> , <a class="code hl_define" href="defines_8h.html#a764b847ee654d0221b8cb323de5d95c7">U6_ANALOG_IN_PIN</a> }; </div>
<div class="ttc" id="adefines_8h_html_a185a9265a6f3f9c91ed062d5e5998ee9"><div class="ttname"><a href="defines_8h.html#a185a9265a6f3f9c91ed062d5e5998ee9">U3_ANALOG_IN_PIN</a></div><div class="ttdeci">#define U3_ANALOG_IN_PIN</div><div class="ttdef"><b>Definition</b> <a href="defines_8h_source.html#l00022">defines.h:22</a></div></div>
<div class="ttc" id="adefines_8h_html_a558ac377e980e1436207d781314b30b4"><div class="ttname"><a href="defines_8h.html#a558ac377e980e1436207d781314b30b4">U4_ANALOG_IN_PIN</a></div><div class="ttdeci">#define U4_ANALOG_IN_PIN</div><div class="ttdef"><b>Definition</b> <a href="defines_8h_source.html#l00023">defines.h:23</a></div></div>
<div class="ttc" id="adefines_8h_html_a764b847ee654d0221b8cb323de5d95c7"><div class="ttname"><a href="defines_8h.html#a764b847ee654d0221b8cb323de5d95c7">U6_ANALOG_IN_PIN</a></div><div class="ttdeci">#define U6_ANALOG_IN_PIN</div><div class="ttdef"><b>Definition</b> <a href="defines_8h_source.html#l00024">defines.h:24</a></div></div>
<div class="ttc" id="adefines_8h_html_a801cef580ffdeccbec9c07edd619158d"><div class="ttname"><a href="defines_8h.html#a801cef580ffdeccbec9c07edd619158d">U2_ANALOG_IN_PIN</a></div><div class="ttdeci">#define U2_ANALOG_IN_PIN</div><div class="ttdef"><b>Definition</b> <a href="defines_8h_source.html#l00021">defines.h:21</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8f6720aad631557b7254da5f7ff356ed" name="a8f6720aad631557b7254da5f7ff356ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f6720aad631557b7254da5f7ff356ed">&#9670;&#160;</a></span>AnalogValues</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t HardwareManager::AnalogValues[16][<a class="el" href="defines_8h.html#a006a61e230d20d998a18bf2fbf562947">NUM_MUXES</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Latest analog readings from all knobs. </p>

<p class="definition">Definition at line <a class="el" href="_hardware_manager_8h_source.html#l00043">43</a> of file <a class="el" href="_hardware_manager_8h_source.html">HardwareManager.h</a>.</p>

</div>
</div>
<a id="a0f5f92a4bb0414fb777bf27a59530b0b" name="a0f5f92a4bb0414fb777bf27a59530b0b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f5f92a4bb0414fb777bf27a59530b0b">&#9670;&#160;</a></span>bEncoderBtn</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool HardwareManager::bEncoderBtn = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Current encoder button state. </p>

<p class="definition">Definition at line <a class="el" href="_hardware_manager_8h_source.html#l00053">53</a> of file <a class="el" href="_hardware_manager_8h_source.html">HardwareManager.h</a>.</p>

</div>
</div>
<a id="a2ec9120b97897bbf139ce6364ec245fc" name="a2ec9120b97897bbf139ce6364ec245fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ec9120b97897bbf139ce6364ec245fc">&#9670;&#160;</a></span>bitIndex</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">volatile int HardwareManager::bitIndex = -1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Serial transmission bit index. </p>

<p class="definition">Definition at line <a class="el" href="_hardware_manager_8h_source.html#l00068">68</a> of file <a class="el" href="_hardware_manager_8h_source.html">HardwareManager.h</a>.</p>

</div>
</div>
<a id="ac803df51783435becad4e0719e3de1d3" name="ac803df51783435becad4e0719e3de1d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac803df51783435becad4e0719e3de1d3">&#9670;&#160;</a></span>bPrevEncoderBtn</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool HardwareManager::bPrevEncoderBtn = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Previous encoder button state. </p>

<p class="definition">Definition at line <a class="el" href="_hardware_manager_8h_source.html#l00054">54</a> of file <a class="el" href="_hardware_manager_8h_source.html">HardwareManager.h</a>.</p>

</div>
</div>
<a id="a627129bb20508846f14c1f62220a4976" name="a627129bb20508846f14c1f62220a4976"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a627129bb20508846f14c1f62220a4976">&#9670;&#160;</a></span>buttonPins</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint8_t HardwareManager::buttonPins[<a class="el" href="defines_8h.html#a45add6b39f5b0c0137de978b90e26b5d">NUM_BUTTONS</a>] = {<a class="el" href="defines_8h.html#a1ee5f4c034a6dbd7f5f9d30a7c7621d7">PUSH_BTN_SW1_PIN</a>,<a class="el" href="defines_8h.html#a3e2406b11040fab176d3ae938bb36fb4">PUSH_BTN_SW2_PIN</a>,<a class="el" href="defines_8h.html#a080eb3794855f7da383bb3d59aa51b86">PUSH_BTN_SW3_PIN</a>,<a class="el" href="defines_8h.html#a541f931e7d08042d778592d4f38bd403">PUSH_BTN_SW4_PIN</a> }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>GPIO pin numbers for each digital button. </p>

<p class="definition">Definition at line <a class="el" href="_hardware_manager_8h_source.html#l00065">65</a> of file <a class="el" href="_hardware_manager_8h_source.html">HardwareManager.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   65</span>{<a class="code hl_define" href="defines_8h.html#a1ee5f4c034a6dbd7f5f9d30a7c7621d7">PUSH_BTN_SW1_PIN</a>,<a class="code hl_define" href="defines_8h.html#a3e2406b11040fab176d3ae938bb36fb4">PUSH_BTN_SW2_PIN</a>,<a class="code hl_define" href="defines_8h.html#a080eb3794855f7da383bb3d59aa51b86">PUSH_BTN_SW3_PIN</a>,<a class="code hl_define" href="defines_8h.html#a541f931e7d08042d778592d4f38bd403">PUSH_BTN_SW4_PIN</a> }; </div>
</div><!-- fragment -->
</div>
</div>
<a id="a0a79ed924f6537f4b28e17bfc495e840" name="a0a79ed924f6537f4b28e17bfc495e840"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a79ed924f6537f4b28e17bfc495e840">&#9670;&#160;</a></span>buttonStates</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t HardwareManager::buttonStates[<a class="el" href="defines_8h.html#a45add6b39f5b0c0137de978b90e26b5d">NUM_BUTTONS</a>] = {0}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Current digital button states. </p>

<p class="definition">Definition at line <a class="el" href="_hardware_manager_8h_source.html#l00046">46</a> of file <a class="el" href="_hardware_manager_8h_source.html">HardwareManager.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   46</span>{0}; </div>
</div><!-- fragment -->
</div>
</div>
<a id="ac54dcfe2d8157035648e18095430633d" name="ac54dcfe2d8157035648e18095430633d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac54dcfe2d8157035648e18095430633d">&#9670;&#160;</a></span>enablePins</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint HardwareManager::enablePins[<a class="el" href="defines_8h.html#a006a61e230d20d998a18bf2fbf562947">NUM_MUXES</a>] = { <a class="el" href="defines_8h.html#a7d38c282cd5f6ec99da0b3b37b97315d">U2_ENABLE_PIN</a>, <a class="el" href="defines_8h.html#a58393f61259eb81a9d1094281e512fa4">U3_ENABLE_PIN</a>, <a class="el" href="defines_8h.html#a9db36ac7b0b3e89a85b6233ed896eac9">U4_ENABLE_PIN</a>, <a class="el" href="defines_8h.html#ad75a02c26f8ce2df2c12638f44f3e709">U6_ENABLE_PIN</a> }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Enable lines for each analog multiplexer. </p>

<p class="definition">Definition at line <a class="el" href="_hardware_manager_8h_source.html#l00040">40</a> of file <a class="el" href="_hardware_manager_8h_source.html">HardwareManager.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   40</span>{ <a class="code hl_define" href="defines_8h.html#a7d38c282cd5f6ec99da0b3b37b97315d">U2_ENABLE_PIN</a>, <a class="code hl_define" href="defines_8h.html#a58393f61259eb81a9d1094281e512fa4">U3_ENABLE_PIN</a>, <a class="code hl_define" href="defines_8h.html#a9db36ac7b0b3e89a85b6233ed896eac9">U4_ENABLE_PIN</a>, <a class="code hl_define" href="defines_8h.html#ad75a02c26f8ce2df2c12638f44f3e709">U6_ENABLE_PIN</a> }; </div>
<div class="ttc" id="adefines_8h_html_a58393f61259eb81a9d1094281e512fa4"><div class="ttname"><a href="defines_8h.html#a58393f61259eb81a9d1094281e512fa4">U3_ENABLE_PIN</a></div><div class="ttdeci">#define U3_ENABLE_PIN</div><div class="ttdef"><b>Definition</b> <a href="defines_8h_source.html#l00016">defines.h:16</a></div></div>
<div class="ttc" id="adefines_8h_html_a7d38c282cd5f6ec99da0b3b37b97315d"><div class="ttname"><a href="defines_8h.html#a7d38c282cd5f6ec99da0b3b37b97315d">U2_ENABLE_PIN</a></div><div class="ttdeci">#define U2_ENABLE_PIN</div><div class="ttdef"><b>Definition</b> <a href="defines_8h_source.html#l00015">defines.h:15</a></div></div>
<div class="ttc" id="adefines_8h_html_a9db36ac7b0b3e89a85b6233ed896eac9"><div class="ttname"><a href="defines_8h.html#a9db36ac7b0b3e89a85b6233ed896eac9">U4_ENABLE_PIN</a></div><div class="ttdeci">#define U4_ENABLE_PIN</div><div class="ttdef"><b>Definition</b> <a href="defines_8h_source.html#l00017">defines.h:17</a></div></div>
<div class="ttc" id="adefines_8h_html_ad75a02c26f8ce2df2c12638f44f3e709"><div class="ttname"><a href="defines_8h.html#ad75a02c26f8ce2df2c12638f44f3e709">U6_ENABLE_PIN</a></div><div class="ttdeci">#define U6_ENABLE_PIN</div><div class="ttdef"><b>Definition</b> <a href="defines_8h_source.html#l00018">defines.h:18</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a48dad7203dfb3cdaa646678c0f4f16b4" name="a48dad7203dfb3cdaa646678c0f4f16b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48dad7203dfb3cdaa646678c0f4f16b4">&#9670;&#160;</a></span>encoderKnob</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Encoder* HardwareManager::encoderKnob = nullptr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_hardware_manager_8h_source.html#l00038">38</a> of file <a class="el" href="_hardware_manager_8h_source.html">HardwareManager.h</a>.</p>

</div>
</div>
<a id="a6a90392542468cb4d057b7e1aa3b2aad" name="a6a90392542468cb4d057b7e1aa3b2aad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a90392542468cb4d057b7e1aa3b2aad">&#9670;&#160;</a></span>hardwareManagerPollIntervalMS</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned long HardwareManager::hardwareManagerPollIntervalMS = 50</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_hardware_manager_8h_source.html#l00037">37</a> of file <a class="el" href="_hardware_manager_8h_source.html">HardwareManager.h</a>.</p>

</div>
</div>
<a id="a10c40b44979b1ee9d1de1befd26d3a44" name="a10c40b44979b1ee9d1de1befd26d3a44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10c40b44979b1ee9d1de1befd26d3a44">&#9670;&#160;</a></span>iGatherCtr</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">long HardwareManager::iGatherCtr = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_hardware_manager_8h_source.html#l00035">35</a> of file <a class="el" href="_hardware_manager_8h_source.html">HardwareManager.h</a>.</p>

</div>
</div>
<a id="ab9756835f0b098ac288628f4c4139ca2" name="ab9756835f0b098ac288628f4c4139ca2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9756835f0b098ac288628f4c4139ca2">&#9670;&#160;</a></span>knobConfigurations</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structknob_config.html">knobConfig</a> HardwareManager::knobConfigurations[<a class="el" href="defines_8h.html#a87f435a777fc58e1d3c4630bb8e632b3">NUM_KNOBS</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Current knob-to-parameter mapping. </p>

<p class="definition">Definition at line <a class="el" href="_hardware_manager_8h_source.html#l00070">70</a> of file <a class="el" href="_hardware_manager_8h_source.html">HardwareManager.h</a>.</p>

</div>
</div>
<a id="a5a834a463d4b5ef9e69a37001c60768e" name="a5a834a463d4b5ef9e69a37001c60768e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a834a463d4b5ef9e69a37001c60768e">&#9670;&#160;</a></span>knobConfigurations_bkup</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structknob_config.html">knobConfig</a> HardwareManager::knobConfigurations_bkup[<a class="el" href="defines_8h.html#a87f435a777fc58e1d3c4630bb8e632b3">NUM_KNOBS</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Backup mapping. </p>

<p class="definition">Definition at line <a class="el" href="_hardware_manager_8h_source.html#l00071">71</a> of file <a class="el" href="_hardware_manager_8h_source.html">HardwareManager.h</a>.</p>

</div>
</div>
<a id="af4761cefe4c6093de549ae7e5dde75b9" name="af4761cefe4c6093de549ae7e5dde75b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4761cefe4c6093de549ae7e5dde75b9">&#9670;&#160;</a></span>lastEncoderPosition</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">long HardwareManager::lastEncoderPosition = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Last recorded rotary encoder position. </p>

<p class="definition">Definition at line <a class="el" href="_hardware_manager_8h_source.html#l00057">57</a> of file <a class="el" href="_hardware_manager_8h_source.html">HardwareManager.h</a>.</p>

</div>
</div>
<a id="acf8e46d72eb8cbdf2df757c212d65036" name="acf8e46d72eb8cbdf2df757c212d65036"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf8e46d72eb8cbdf2df757c212d65036">&#9670;&#160;</a></span>lastKnobConfig</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structknob_config.html">knobConfig</a> HardwareManager::lastKnobConfig</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Most recent configuration state. </p>

<p class="definition">Definition at line <a class="el" href="_hardware_manager_8h_source.html#l00072">72</a> of file <a class="el" href="_hardware_manager_8h_source.html">HardwareManager.h</a>.</p>

</div>
</div>
<a id="a26b5a0c399598a73399c33cb42195404" name="a26b5a0c399598a73399c33cb42195404"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26b5a0c399598a73399c33cb42195404">&#9670;&#160;</a></span>lastPollTime</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long HardwareManager::lastPollTime = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_hardware_manager_8h_source.html#l00036">36</a> of file <a class="el" href="_hardware_manager_8h_source.html">HardwareManager.h</a>.</p>

</div>
</div>
<a id="a9b7836f6542d76f66a18dd266c8ff268" name="a9b7836f6542d76f66a18dd266c8ff268"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b7836f6542d76f66a18dd266c8ff268">&#9670;&#160;</a></span>lastPotScanTime</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">long HardwareManager::lastPotScanTime = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_hardware_manager_8h_source.html#l00059">59</a> of file <a class="el" href="_hardware_manager_8h_source.html">HardwareManager.h</a>.</p>

</div>
</div>
<a id="ae270bdec0bf6dbb5a0558aec3858c5ce" name="ae270bdec0bf6dbb5a0558aec3858c5ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae270bdec0bf6dbb5a0558aec3858c5ce">&#9670;&#160;</a></span>ledstate</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t HardwareManager::ledstate</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Bitfield representing current LED state. </p>

<p class="definition">Definition at line <a class="el" href="_hardware_manager_8h_source.html#l00049">49</a> of file <a class="el" href="_hardware_manager_8h_source.html">HardwareManager.h</a>.</p>

</div>
</div>
<a id="a315dc1caa02e610f91b1a612bda30b3f" name="a315dc1caa02e610f91b1a612bda30b3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a315dc1caa02e610f91b1a612bda30b3f">&#9670;&#160;</a></span>MuxAddressPins</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint HardwareManager::MuxAddressPins[4] = { <a class="el" href="defines_8h.html#a44723db4e11f34a0ad8759574d637e1d">S0_PIN</a>, <a class="el" href="defines_8h.html#a8766620bcdd3b4ffdae69e99def6458e">S1_PIN</a>, <a class="el" href="defines_8h.html#ad50338afe7b10c1aa188fde925109853">S2_PIN</a>, <a class="el" href="defines_8h.html#aeff05ff93deed7ec7c197dfded858bda">S3_PIN</a> }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Enable lines for each analog multiplexer. </p>

<p class="definition">Definition at line <a class="el" href="_hardware_manager_8h_source.html#l00041">41</a> of file <a class="el" href="_hardware_manager_8h_source.html">HardwareManager.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   41</span>{ <a class="code hl_define" href="defines_8h.html#a44723db4e11f34a0ad8759574d637e1d">S0_PIN</a>, <a class="code hl_define" href="defines_8h.html#a8766620bcdd3b4ffdae69e99def6458e">S1_PIN</a>, <a class="code hl_define" href="defines_8h.html#ad50338afe7b10c1aa188fde925109853">S2_PIN</a>, <a class="code hl_define" href="defines_8h.html#aeff05ff93deed7ec7c197dfded858bda">S3_PIN</a> }; </div>
</div><!-- fragment -->
</div>
</div>
<a id="a53cce0263086fe32524936c007293847" name="a53cce0263086fe32524936c007293847"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53cce0263086fe32524936c007293847">&#9670;&#160;</a></span>oldAnalogValues</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t HardwareManager::oldAnalogValues[16][<a class="el" href="defines_8h.html#a006a61e230d20d998a18bf2fbf562947">NUM_MUXES</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Previous readings for comparison. </p>

<p class="definition">Definition at line <a class="el" href="_hardware_manager_8h_source.html#l00044">44</a> of file <a class="el" href="_hardware_manager_8h_source.html">HardwareManager.h</a>.</p>

</div>
</div>
<a id="ad30a99fa8e93d030b058e41f6e60dcae" name="ad30a99fa8e93d030b058e41f6e60dcae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad30a99fa8e93d030b058e41f6e60dcae">&#9670;&#160;</a></span>prevButtonStates</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t HardwareManager::prevButtonStates[<a class="el" href="defines_8h.html#a45add6b39f5b0c0137de978b90e26b5d">NUM_BUTTONS</a>] = {0}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Previous digital button states. </p>

<p class="definition">Definition at line <a class="el" href="_hardware_manager_8h_source.html#l00047">47</a> of file <a class="el" href="_hardware_manager_8h_source.html">HardwareManager.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   47</span>{0}; </div>
</div><!-- fragment -->
</div>
</div>
<a id="ab14567b2aa576fcbe6f8be034b3c6427" name="ab14567b2aa576fcbe6f8be034b3c6427"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab14567b2aa576fcbe6f8be034b3c6427">&#9670;&#160;</a></span>prevLedState</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t HardwareManager::prevLedState</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Bitfield representing previous LED state. </p>

<p class="definition">Definition at line <a class="el" href="_hardware_manager_8h_source.html#l00050">50</a> of file <a class="el" href="_hardware_manager_8h_source.html">HardwareManager.h</a>.</p>

</div>
</div>
<a id="a75f06e4bc04d08d6be6e61bc7e3880c9" name="a75f06e4bc04d08d6be6e61bc7e3880c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75f06e4bc04d08d6be6e61bc7e3880c9">&#9670;&#160;</a></span>recentCommands</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="struct_sent_command.html">SentCommand</a>&gt; HardwareManager::recentCommands</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Rolling log of recently sent PG-800 commands. </p>

<p class="definition">Definition at line <a class="el" href="_hardware_manager_8h_source.html#l00067">67</a> of file <a class="el" href="_hardware_manager_8h_source.html">HardwareManager.h</a>.</p>

</div>
</div>
<a id="acfc375a757daaa27f18d76c67f18307f" name="acfc375a757daaa27f18d76c67f18307f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acfc375a757daaa27f18d76c67f18307f">&#9670;&#160;</a></span>sendBuffer</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">volatile uint16_t HardwareManager::sendBuffer = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Serial transmission buffer. </p>

<p class="definition">Definition at line <a class="el" href="_hardware_manager_8h_source.html#l00069">69</a> of file <a class="el" href="_hardware_manager_8h_source.html">HardwareManager.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/<a class="el" href="_hardware_manager_8h_source.html">HardwareManager.h</a></li>
<li>src/<a class="el" href="_hardware_manager_8cpp_source.html">HardwareManager.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="class_hardware_manager.html">HardwareManager</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
