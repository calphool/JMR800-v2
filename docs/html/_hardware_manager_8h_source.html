<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>JMR800 v2: include/HardwareManager.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">JMR800 v2
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('_hardware_manager_8h_source.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">HardwareManager.h</div></div>
</div><!--header-->
<div class="contents">
<a href="_hardware_manager_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span></div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span> </div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span><span class="preprocessor">#pragma once</span></div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span> </div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="preprocessor">#include &lt;Arduino.h&gt;</span></div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="preprocessor">#include &lt;Adafruit_GFX.h&gt;</span></div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span><span class="preprocessor">#include &lt;Adafruit_SH110X.h&gt;</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="preprocessor">#include &lt;Wire.h&gt;</span></div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span><span class="preprocessor">#include &lt;ADC.h&gt;</span></div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="preprocessor">#include &lt;Encoder.h&gt;</span></div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span><span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span><span class="preprocessor">#include &quot;<a class="code" href="defines_8h.html">defines.h</a>&quot;</span></div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span><span class="preprocessor">#include &quot;<a class="code" href="_logging_8h.html">Logging.h</a>&quot;</span></div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span> </div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span></div>
<div class="foldopen" id="foldopen00023" data-start="{" data-end="};">
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno"><a class="line" href="struct_sent_command.html">   23</a></span><span class="keyword">struct </span><a class="code hl_struct" href="struct_sent_command.html">SentCommand</a> {</div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno"><a class="line" href="struct_sent_command.html#a6bd03f07367c4a7a8033c4f2f8183fe1">   24</a></span>  uint8_t <a class="code hl_variable" href="struct_sent_command.html#a6bd03f07367c4a7a8033c4f2f8183fe1">paramID</a>; </div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno"><a class="line" href="struct_sent_command.html#aa7341c37b068a4b56a108fb90990d102">   25</a></span>  uint8_t <a class="code hl_variable" href="struct_sent_command.html#aa7341c37b068a4b56a108fb90990d102">value</a>; </div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno"><a class="line" href="struct_sent_command.html#a26d089417d8c3c5680dcc12d98cdbd4c">   26</a></span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code hl_variable" href="struct_sent_command.html#a26d089417d8c3c5680dcc12d98cdbd4c">timestamp</a>; </div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span>};</div>
</div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span></div>
<div class="foldopen" id="foldopen00033" data-start="{" data-end="};">
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno"><a class="line" href="class_hardware_manager.html">   33</a></span><span class="keyword">class </span><a class="code hl_class" href="class_hardware_manager.html">HardwareManager</a> {</div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span><span class="keyword">private</span>:</div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno"><a class="line" href="class_hardware_manager.html#a10c40b44979b1ee9d1de1befd26d3a44">   35</a></span>    <span class="keywordtype">long</span> <a class="code hl_variable" href="class_hardware_manager.html#a10c40b44979b1ee9d1de1befd26d3a44">iGatherCtr</a> = 0;</div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno"><a class="line" href="class_hardware_manager.html#a26b5a0c399598a73399c33cb42195404">   36</a></span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code hl_variable" href="class_hardware_manager.html#a26b5a0c399598a73399c33cb42195404">lastPollTime</a> = 0;</div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno"><a class="line" href="class_hardware_manager.html#a6a90392542468cb4d057b7e1aa3b2aad">   37</a></span>    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code hl_variable" href="class_hardware_manager.html#a6a90392542468cb4d057b7e1aa3b2aad">hardwareManagerPollIntervalMS</a> = 50;</div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno"><a class="line" href="class_hardware_manager.html#a48dad7203dfb3cdaa646678c0f4f16b4">   38</a></span>    Encoder* <a class="code hl_variable" href="class_hardware_manager.html#a48dad7203dfb3cdaa646678c0f4f16b4">encoderKnob</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span> </div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno"><a class="line" href="class_hardware_manager.html#ac54dcfe2d8157035648e18095430633d">   40</a></span>    uint <a class="code hl_variable" href="class_hardware_manager.html#ac54dcfe2d8157035648e18095430633d">enablePins</a>[<a class="code hl_define" href="defines_8h.html#a006a61e230d20d998a18bf2fbf562947">NUM_MUXES</a>] = { <a class="code hl_define" href="defines_8h.html#a7d38c282cd5f6ec99da0b3b37b97315d">U2_ENABLE_PIN</a>, <a class="code hl_define" href="defines_8h.html#a58393f61259eb81a9d1094281e512fa4">U3_ENABLE_PIN</a>, <a class="code hl_define" href="defines_8h.html#a9db36ac7b0b3e89a85b6233ed896eac9">U4_ENABLE_PIN</a>, <a class="code hl_define" href="defines_8h.html#ad75a02c26f8ce2df2c12638f44f3e709">U6_ENABLE_PIN</a> }; </div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno"><a class="line" href="class_hardware_manager.html#a315dc1caa02e610f91b1a612bda30b3f">   41</a></span>    uint <a class="code hl_variable" href="class_hardware_manager.html#a315dc1caa02e610f91b1a612bda30b3f">MuxAddressPins</a>[4] = { <a class="code hl_define" href="defines_8h.html#a44723db4e11f34a0ad8759574d637e1d">S0_PIN</a>, <a class="code hl_define" href="defines_8h.html#a8766620bcdd3b4ffdae69e99def6458e">S1_PIN</a>, <a class="code hl_define" href="defines_8h.html#ad50338afe7b10c1aa188fde925109853">S2_PIN</a>, <a class="code hl_define" href="defines_8h.html#aeff05ff93deed7ec7c197dfded858bda">S3_PIN</a> }; </div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span> </div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno"><a class="line" href="class_hardware_manager.html#a8f6720aad631557b7254da5f7ff356ed">   43</a></span>    uint16_t <a class="code hl_variable" href="class_hardware_manager.html#a8f6720aad631557b7254da5f7ff356ed">AnalogValues</a>[16][<a class="code hl_define" href="defines_8h.html#a006a61e230d20d998a18bf2fbf562947">NUM_MUXES</a>]; </div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno"><a class="line" href="class_hardware_manager.html#a53cce0263086fe32524936c007293847">   44</a></span>    uint16_t <a class="code hl_variable" href="class_hardware_manager.html#a53cce0263086fe32524936c007293847">oldAnalogValues</a>[16][<a class="code hl_define" href="defines_8h.html#a006a61e230d20d998a18bf2fbf562947">NUM_MUXES</a>]; </div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span> </div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno"><a class="line" href="class_hardware_manager.html#a0a79ed924f6537f4b28e17bfc495e840">   46</a></span>    uint8_t <a class="code hl_variable" href="class_hardware_manager.html#a0a79ed924f6537f4b28e17bfc495e840">buttonStates</a>[<a class="code hl_define" href="defines_8h.html#a45add6b39f5b0c0137de978b90e26b5d">NUM_BUTTONS</a>] = {0}; </div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno"><a class="line" href="class_hardware_manager.html#ad30a99fa8e93d030b058e41f6e60dcae">   47</a></span>    uint8_t <a class="code hl_variable" href="class_hardware_manager.html#ad30a99fa8e93d030b058e41f6e60dcae">prevButtonStates</a>[<a class="code hl_define" href="defines_8h.html#a45add6b39f5b0c0137de978b90e26b5d">NUM_BUTTONS</a>] = {0}; </div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span> </div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno"><a class="line" href="class_hardware_manager.html#ae270bdec0bf6dbb5a0558aec3858c5ce">   49</a></span>    uint8_t <a class="code hl_variable" href="class_hardware_manager.html#ae270bdec0bf6dbb5a0558aec3858c5ce">ledstate</a>;    </div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno"><a class="line" href="class_hardware_manager.html#ab14567b2aa576fcbe6f8be034b3c6427">   50</a></span>    uint8_t <a class="code hl_variable" href="class_hardware_manager.html#ab14567b2aa576fcbe6f8be034b3c6427">prevLedState</a>;</div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span> </div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span>    <span class="comment">// button statuses</span></div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno"><a class="line" href="class_hardware_manager.html#a0f5f92a4bb0414fb777bf27a59530b0b">   53</a></span>    <span class="keywordtype">bool</span> <a class="code hl_variable" href="class_hardware_manager.html#a0f5f92a4bb0414fb777bf27a59530b0b">bEncoderBtn</a> = <span class="keyword">false</span>;     </div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno"><a class="line" href="class_hardware_manager.html#ac803df51783435becad4e0719e3de1d3">   54</a></span>    <span class="keywordtype">bool</span> <a class="code hl_variable" href="class_hardware_manager.html#ac803df51783435becad4e0719e3de1d3">bPrevEncoderBtn</a> = <span class="keyword">false</span>; </div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span> </div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span>    <span class="comment">// encoder position</span></div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno"><a class="line" href="class_hardware_manager.html#af4761cefe4c6093de549ae7e5dde75b9">   57</a></span>    <span class="keywordtype">long</span> <a class="code hl_variable" href="class_hardware_manager.html#af4761cefe4c6093de549ae7e5dde75b9">lastEncoderPosition</a> = 0; </div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span> </div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno"><a class="line" href="class_hardware_manager.html#a9b7836f6542d76f66a18dd266c8ff268">   59</a></span>    <span class="keywordtype">long</span> <a class="code hl_variable" href="class_hardware_manager.html#a9b7836f6542d76f66a18dd266c8ff268">lastPotScanTime</a> = 0;</div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span> </div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno"><a class="line" href="class_hardware_manager.html#a2e85929fcd71e50c6913d623577dbeb8">   61</a></span>    ADC <a class="code hl_variable" href="class_hardware_manager.html#a2e85929fcd71e50c6913d623577dbeb8">adc</a>; </div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span> </div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span>  </div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno"><a class="line" href="class_hardware_manager.html#a8ad6a46ff803f39bbe5c7b99d5dc1118">   64</a></span>    <span class="keyword">const</span> uint8_t <a class="code hl_variable" href="class_hardware_manager.html#a8ad6a46ff803f39bbe5c7b99d5dc1118">analogInPins</a>[<a class="code hl_define" href="defines_8h.html#a006a61e230d20d998a18bf2fbf562947">NUM_MUXES</a>] = { <a class="code hl_define" href="defines_8h.html#a801cef580ffdeccbec9c07edd619158d">U2_ANALOG_IN_PIN</a>, <a class="code hl_define" href="defines_8h.html#a185a9265a6f3f9c91ed062d5e5998ee9">U3_ANALOG_IN_PIN</a>, <a class="code hl_define" href="defines_8h.html#a558ac377e980e1436207d781314b30b4">U4_ANALOG_IN_PIN</a> , <a class="code hl_define" href="defines_8h.html#a764b847ee654d0221b8cb323de5d95c7">U6_ANALOG_IN_PIN</a> }; </div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno"><a class="line" href="class_hardware_manager.html#a627129bb20508846f14c1f62220a4976">   65</a></span>    <span class="keyword">const</span> uint8_t <a class="code hl_variable" href="class_hardware_manager.html#a627129bb20508846f14c1f62220a4976">buttonPins</a>[<a class="code hl_define" href="defines_8h.html#a45add6b39f5b0c0137de978b90e26b5d">NUM_BUTTONS</a>] = {<a class="code hl_define" href="defines_8h.html#a1ee5f4c034a6dbd7f5f9d30a7c7621d7">PUSH_BTN_SW1_PIN</a>,<a class="code hl_define" href="defines_8h.html#a3e2406b11040fab176d3ae938bb36fb4">PUSH_BTN_SW2_PIN</a>,<a class="code hl_define" href="defines_8h.html#a080eb3794855f7da383bb3d59aa51b86">PUSH_BTN_SW3_PIN</a>,<a class="code hl_define" href="defines_8h.html#a541f931e7d08042d778592d4f38bd403">PUSH_BTN_SW4_PIN</a> }; </div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span> </div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno"><a class="line" href="class_hardware_manager.html#a75f06e4bc04d08d6be6e61bc7e3880c9">   67</a></span>    std::vector&lt;SentCommand&gt; <a class="code hl_variable" href="class_hardware_manager.html#a75f06e4bc04d08d6be6e61bc7e3880c9">recentCommands</a>;  </div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno"><a class="line" href="class_hardware_manager.html#a2ec9120b97897bbf139ce6364ec245fc">   68</a></span>    <span class="keyword">static</span> <span class="keyword">volatile</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="class_hardware_manager.html#a2ec9120b97897bbf139ce6364ec245fc">bitIndex</a>; </div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno"><a class="line" href="class_hardware_manager.html#acfc375a757daaa27f18d76c67f18307f">   69</a></span>    <span class="keyword">static</span> <span class="keyword">volatile</span> uint16_t <a class="code hl_variable" href="class_hardware_manager.html#acfc375a757daaa27f18d76c67f18307f">sendBuffer</a>; </div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno"><a class="line" href="class_hardware_manager.html#ab9756835f0b098ac288628f4c4139ca2">   70</a></span>    <a class="code hl_struct" href="structknob_config.html">knobConfig</a> <a class="code hl_variable" href="class_hardware_manager.html#ab9756835f0b098ac288628f4c4139ca2">knobConfigurations</a>[<a class="code hl_define" href="defines_8h.html#a87f435a777fc58e1d3c4630bb8e632b3">NUM_KNOBS</a>];  </div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno"><a class="line" href="class_hardware_manager.html#a5a834a463d4b5ef9e69a37001c60768e">   71</a></span>    <a class="code hl_struct" href="structknob_config.html">knobConfig</a> <a class="code hl_variable" href="class_hardware_manager.html#a5a834a463d4b5ef9e69a37001c60768e">knobConfigurations_bkup</a>[<a class="code hl_define" href="defines_8h.html#a87f435a777fc58e1d3c4630bb8e632b3">NUM_KNOBS</a>]; </div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno"><a class="line" href="class_hardware_manager.html#acf8e46d72eb8cbdf2df757c212d65036">   72</a></span>    <a class="code hl_struct" href="structknob_config.html">knobConfig</a> <a class="code hl_variable" href="class_hardware_manager.html#acf8e46d72eb8cbdf2df757c212d65036">lastKnobConfig</a>; </div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span> </div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span> </div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_hardware_manager.html#a4a7cab7ae0b5071b0557905000f46806">gatherControlSettings</a>(); </div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_hardware_manager.html#ab2810a18f676cb33b5696d59a61caf1b">gatherPotentiometerValues</a>(); </div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_hardware_manager.html#aef067455e10624433ddd360794012151">setAddressPins</a>(uint val); </div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_hardware_manager.html#a04393ce5c07558f919f4473049543260">updateEncoder</a>(); </div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_hardware_manager.html#a69487280dacad30fc7fa1fd58e9e48ca">writeLedRegistersToHardware</a>(); </div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span>    <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="class_hardware_manager.html#ae436f35ee0851ca0dad3f0f0c9ad83ea">onPG800ClockFall</a>(); </div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="class_hardware_manager.html#a8ccfd2a833eb6826587dba7a4d97c331">knobChanged</a>(<span class="keywordtype">int</span> i); </div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span> </div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span><span class="keyword">public</span>:</div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_hardware_manager.html#acbee566327ea9e237566823f46dfcac5">init</a>();      <span class="comment">// Set up pins, ADC, etc.</span></div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span></div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_hardware_manager.html#a6f45e846ef082a37a2bd2d3edf9efb5b">loop</a>();      <span class="comment">// Called every cycle, but throttled</span></div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span>    </div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span>    <a class="code hl_function" href="class_hardware_manager.html#a0527305ad85e4875e2da02b05664fda1">~HardwareManager</a>();</div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span></div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_hardware_manager.html#aaf70a4835af8352a2af86b9679b89d41">loadKnobs</a>();</div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span>    </div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_hardware_manager.html#a323515123ec033d7e4761cd1ad0f7674">saveKnobs</a>();</div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span></div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span>    <span class="keywordtype">int</span> <a class="code hl_function" href="class_hardware_manager.html#a389138f42e4c27721988b5f6482a47c1">getKnobValue</a>(uint index);</div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span>    </div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span>    <span class="keywordtype">long</span> <a class="code hl_function" href="class_hardware_manager.html#a5ad8de42c31a9691549f22b7157919e2">getEncoderZeroTo</a>(<span class="keywordtype">long</span> divisor);</div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span>    </div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="class_hardware_manager.html#a0b6ee88f01f7908e5d0bdd7f366164f4">getEncoderSwitchStatus</a>();</div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span></div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span>    <span class="keywordtype">long</span> <a class="code hl_function" href="class_hardware_manager.html#aaa16c700ab58fcc9b2b8a33ff4f3090d">getEncoderValue</a>();</div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span></div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="class_hardware_manager.html#ac05c3327a4bedb62f953d15f64c98348">isButtonPressed</a>(uint index);</div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span></div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="class_hardware_manager.html#a73027e69fad5aa613c3fe4ed0af7b6da">buttonStateChanged</a>(uint index, <span class="keywordtype">bool</span> bDirection, <span class="keywordtype">bool</span> bClearFlag);</div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span></div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="class_hardware_manager.html#a245e2fe92421b95d708377e7b6ca6711">encoderSwitchStateChanged</a>(<span class="keywordtype">bool</span> upThenDown, <span class="keywordtype">bool</span> clearFlag);</div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span></div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_hardware_manager.html#a518b4b1ddd898bd2a962392af422614f">setButtonLights</a>(uint buttonId, <span class="keywordtype">bool</span> red, <span class="keywordtype">bool</span> green);</div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span></div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="class_hardware_manager.html#a598987bc3663dc83206abb5d1d2119f5">greenIsLit</a>(uint buttonId);</div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span></div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="class_hardware_manager.html#abd678fae41765624bb05aed23f7a1785">redIsLit</a>(uint buttonId);</div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span></div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_hardware_manager.html#aac5863c15f10f28dc888d496eadf0d70">restoreLedState</a>();</div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span></div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_hardware_manager.html#a9e49dcb61d28890a831708d669eebed6">saveLedState</a>();</div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span></div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_hardware_manager.html#acc9496217a58084ae0af83c58cf658ea">sendParameter</a>(uint8_t paramID, uint8_t value);</div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span></div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_hardware_manager.html#a7777c52d0ef47ddf60e84beeedf39cc0">resetEncoder</a>(uint i);</div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span></div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span>    <a class="code hl_struct" href="structknob_config.html">knobConfig</a> <a class="code hl_function" href="class_hardware_manager.html#af204c2f4a3e3e12dbd79a9c910f5979c">getKnobConfiguration</a>(uint i);</div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span> </div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span>};</div>
</div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span></div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span><span class="keyword">extern</span> <a class="code hl_class" href="class_hardware_manager.html">HardwareManager</a> <a class="code hl_variable" href="_hardware_manager_8h.html#a7480f085f55ce385142af9e9a75b3038">hardware</a>;</div>
<div class="ttc" id="a_hardware_manager_8h_html_a7480f085f55ce385142af9e9a75b3038"><div class="ttname"><a href="_hardware_manager_8h.html#a7480f085f55ce385142af9e9a75b3038">hardware</a></div><div class="ttdeci">HardwareManager hardware</div><div class="ttdoc">Singleton instance of HardwareManager.</div><div class="ttdef"><b>Definition</b> <a href="_hardware_manager_8cpp_source.html#l00016">HardwareManager.cpp:16</a></div></div>
<div class="ttc" id="a_logging_8h_html"><div class="ttname"><a href="_logging_8h.html">Logging.h</a></div><div class="ttdoc">Lightweight logging utility for serial output in the JMR800-V2 project.</div></div>
<div class="ttc" id="aclass_hardware_manager_html"><div class="ttname"><a href="class_hardware_manager.html">HardwareManager</a></div><div class="ttdoc">Handles initialization, polling, and control of physical interface components such as buttons,...</div><div class="ttdef"><b>Definition</b> <a href="#l00033">HardwareManager.h:33</a></div></div>
<div class="ttc" id="aclass_hardware_manager_html_a04393ce5c07558f919f4473049543260"><div class="ttname"><a href="class_hardware_manager.html#a04393ce5c07558f919f4473049543260">HardwareManager::updateEncoder</a></div><div class="ttdeci">void updateEncoder()</div><div class="ttdoc">Reads and updates encoder state.</div><div class="ttdef"><b>Definition</b> <a href="_hardware_manager_8cpp_source.html#l00383">HardwareManager.cpp:383</a></div></div>
<div class="ttc" id="aclass_hardware_manager_html_a0527305ad85e4875e2da02b05664fda1"><div class="ttname"><a href="class_hardware_manager.html#a0527305ad85e4875e2da02b05664fda1">HardwareManager::~HardwareManager</a></div><div class="ttdeci">~HardwareManager()</div><div class="ttdoc">Destructor.</div><div class="ttdef"><b>Definition</b> <a href="_hardware_manager_8cpp_source.html#l00093">HardwareManager.cpp:93</a></div></div>
<div class="ttc" id="aclass_hardware_manager_html_a0a79ed924f6537f4b28e17bfc495e840"><div class="ttname"><a href="class_hardware_manager.html#a0a79ed924f6537f4b28e17bfc495e840">HardwareManager::buttonStates</a></div><div class="ttdeci">uint8_t buttonStates[NUM_BUTTONS]</div><div class="ttdoc">Current digital button states.</div><div class="ttdef"><b>Definition</b> <a href="#l00046">HardwareManager.h:46</a></div></div>
<div class="ttc" id="aclass_hardware_manager_html_a0b6ee88f01f7908e5d0bdd7f366164f4"><div class="ttname"><a href="class_hardware_manager.html#a0b6ee88f01f7908e5d0bdd7f366164f4">HardwareManager::getEncoderSwitchStatus</a></div><div class="ttdeci">bool getEncoderSwitchStatus()</div><div class="ttdoc">Returns true if the encoder button is currently pressed.</div><div class="ttdef"><b>Definition</b> <a href="_hardware_manager_8cpp_source.html#l00513">HardwareManager.cpp:513</a></div></div>
<div class="ttc" id="aclass_hardware_manager_html_a0f5f92a4bb0414fb777bf27a59530b0b"><div class="ttname"><a href="class_hardware_manager.html#a0f5f92a4bb0414fb777bf27a59530b0b">HardwareManager::bEncoderBtn</a></div><div class="ttdeci">bool bEncoderBtn</div><div class="ttdoc">Current encoder button state.</div><div class="ttdef"><b>Definition</b> <a href="#l00053">HardwareManager.h:53</a></div></div>
<div class="ttc" id="aclass_hardware_manager_html_a10c40b44979b1ee9d1de1befd26d3a44"><div class="ttname"><a href="class_hardware_manager.html#a10c40b44979b1ee9d1de1befd26d3a44">HardwareManager::iGatherCtr</a></div><div class="ttdeci">long iGatherCtr</div><div class="ttdef"><b>Definition</b> <a href="#l00035">HardwareManager.h:35</a></div></div>
<div class="ttc" id="aclass_hardware_manager_html_a245e2fe92421b95d708377e7b6ca6711"><div class="ttname"><a href="class_hardware_manager.html#a245e2fe92421b95d708377e7b6ca6711">HardwareManager::encoderSwitchStateChanged</a></div><div class="ttdeci">bool encoderSwitchStateChanged(bool upThenDown, bool clearFlag)</div><div class="ttdoc">Detects state changes on encoder button.</div><div class="ttdef"><b>Definition</b> <a href="_hardware_manager_8cpp_source.html#l00277">HardwareManager.cpp:277</a></div></div>
<div class="ttc" id="aclass_hardware_manager_html_a26b5a0c399598a73399c33cb42195404"><div class="ttname"><a href="class_hardware_manager.html#a26b5a0c399598a73399c33cb42195404">HardwareManager::lastPollTime</a></div><div class="ttdeci">unsigned long lastPollTime</div><div class="ttdef"><b>Definition</b> <a href="#l00036">HardwareManager.h:36</a></div></div>
<div class="ttc" id="aclass_hardware_manager_html_a2e85929fcd71e50c6913d623577dbeb8"><div class="ttname"><a href="class_hardware_manager.html#a2e85929fcd71e50c6913d623577dbeb8">HardwareManager::adc</a></div><div class="ttdeci">ADC adc</div><div class="ttdoc">ADC manager for Teensy analog reads.</div><div class="ttdef"><b>Definition</b> <a href="#l00061">HardwareManager.h:61</a></div></div>
<div class="ttc" id="aclass_hardware_manager_html_a2ec9120b97897bbf139ce6364ec245fc"><div class="ttname"><a href="class_hardware_manager.html#a2ec9120b97897bbf139ce6364ec245fc">HardwareManager::bitIndex</a></div><div class="ttdeci">static volatile int bitIndex</div><div class="ttdoc">Serial transmission bit index.</div><div class="ttdef"><b>Definition</b> <a href="#l00068">HardwareManager.h:68</a></div></div>
<div class="ttc" id="aclass_hardware_manager_html_a315dc1caa02e610f91b1a612bda30b3f"><div class="ttname"><a href="class_hardware_manager.html#a315dc1caa02e610f91b1a612bda30b3f">HardwareManager::MuxAddressPins</a></div><div class="ttdeci">uint MuxAddressPins[4]</div><div class="ttdoc">Enable lines for each analog multiplexer.</div><div class="ttdef"><b>Definition</b> <a href="#l00041">HardwareManager.h:41</a></div></div>
<div class="ttc" id="aclass_hardware_manager_html_a323515123ec033d7e4761cd1ad0f7674"><div class="ttname"><a href="class_hardware_manager.html#a323515123ec033d7e4761cd1ad0f7674">HardwareManager::saveKnobs</a></div><div class="ttdeci">void saveKnobs()</div><div class="ttdoc">Saves the current knob configuration to EEPROM.</div><div class="ttdef"><b>Definition</b> <a href="_hardware_manager_8cpp_source.html#l00132">HardwareManager.cpp:132</a></div></div>
<div class="ttc" id="aclass_hardware_manager_html_a389138f42e4c27721988b5f6482a47c1"><div class="ttname"><a href="class_hardware_manager.html#a389138f42e4c27721988b5f6482a47c1">HardwareManager::getKnobValue</a></div><div class="ttdeci">int getKnobValue(uint index)</div><div class="ttdoc">Retrieves the current analog value of the specified knob.</div><div class="ttdef"><b>Definition</b> <a href="_hardware_manager_8cpp_source.html#l00186">HardwareManager.cpp:186</a></div></div>
<div class="ttc" id="aclass_hardware_manager_html_a48dad7203dfb3cdaa646678c0f4f16b4"><div class="ttname"><a href="class_hardware_manager.html#a48dad7203dfb3cdaa646678c0f4f16b4">HardwareManager::encoderKnob</a></div><div class="ttdeci">Encoder * encoderKnob</div><div class="ttdef"><b>Definition</b> <a href="#l00038">HardwareManager.h:38</a></div></div>
<div class="ttc" id="aclass_hardware_manager_html_a4a7cab7ae0b5071b0557905000f46806"><div class="ttname"><a href="class_hardware_manager.html#a4a7cab7ae0b5071b0557905000f46806">HardwareManager::gatherControlSettings</a></div><div class="ttdeci">void gatherControlSettings()</div><div class="ttdoc">Reads all analog and digital inputs.</div><div class="ttdef"><b>Definition</b> <a href="_hardware_manager_8cpp_source.html#l00219">HardwareManager.cpp:219</a></div></div>
<div class="ttc" id="aclass_hardware_manager_html_a518b4b1ddd898bd2a962392af422614f"><div class="ttname"><a href="class_hardware_manager.html#a518b4b1ddd898bd2a962392af422614f">HardwareManager::setButtonLights</a></div><div class="ttdeci">void setButtonLights(uint buttonId, bool red, bool green)</div><div class="ttdoc">Sets the LED colors for a button.</div><div class="ttdef"><b>Definition</b> <a href="_hardware_manager_8cpp_source.html#l00552">HardwareManager.cpp:552</a></div></div>
<div class="ttc" id="aclass_hardware_manager_html_a53cce0263086fe32524936c007293847"><div class="ttname"><a href="class_hardware_manager.html#a53cce0263086fe32524936c007293847">HardwareManager::oldAnalogValues</a></div><div class="ttdeci">uint16_t oldAnalogValues[16][NUM_MUXES]</div><div class="ttdoc">Previous readings for comparison.</div><div class="ttdef"><b>Definition</b> <a href="#l00044">HardwareManager.h:44</a></div></div>
<div class="ttc" id="aclass_hardware_manager_html_a598987bc3663dc83206abb5d1d2119f5"><div class="ttname"><a href="class_hardware_manager.html#a598987bc3663dc83206abb5d1d2119f5">HardwareManager::greenIsLit</a></div><div class="ttdeci">bool greenIsLit(uint buttonId)</div><div class="ttdoc">Checks if the green LED is lit for a given button.</div><div class="ttdef"><b>Definition</b> <a href="_hardware_manager_8cpp_source.html#l00258">HardwareManager.cpp:258</a></div></div>
<div class="ttc" id="aclass_hardware_manager_html_a5a834a463d4b5ef9e69a37001c60768e"><div class="ttname"><a href="class_hardware_manager.html#a5a834a463d4b5ef9e69a37001c60768e">HardwareManager::knobConfigurations_bkup</a></div><div class="ttdeci">knobConfig knobConfigurations_bkup[NUM_KNOBS]</div><div class="ttdoc">Backup mapping.</div><div class="ttdef"><b>Definition</b> <a href="#l00071">HardwareManager.h:71</a></div></div>
<div class="ttc" id="aclass_hardware_manager_html_a5ad8de42c31a9691549f22b7157919e2"><div class="ttname"><a href="class_hardware_manager.html#a5ad8de42c31a9691549f22b7157919e2">HardwareManager::getEncoderZeroTo</a></div><div class="ttdeci">long getEncoderZeroTo(long divisor)</div><div class="ttdoc">Returns a normalized encoder value in range [0, divisor).</div><div class="ttdef"><b>Definition</b> <a href="_hardware_manager_8cpp_source.html#l00103">HardwareManager.cpp:103</a></div></div>
<div class="ttc" id="aclass_hardware_manager_html_a627129bb20508846f14c1f62220a4976"><div class="ttname"><a href="class_hardware_manager.html#a627129bb20508846f14c1f62220a4976">HardwareManager::buttonPins</a></div><div class="ttdeci">const uint8_t buttonPins[NUM_BUTTONS]</div><div class="ttdoc">GPIO pin numbers for each digital button.</div><div class="ttdef"><b>Definition</b> <a href="#l00065">HardwareManager.h:65</a></div></div>
<div class="ttc" id="aclass_hardware_manager_html_a69487280dacad30fc7fa1fd58e9e48ca"><div class="ttname"><a href="class_hardware_manager.html#a69487280dacad30fc7fa1fd58e9e48ca">HardwareManager::writeLedRegistersToHardware</a></div><div class="ttdeci">void writeLedRegistersToHardware()</div><div class="ttdoc">Pushes current LED state to shift registers.</div><div class="ttdef"><b>Definition</b> <a href="_hardware_manager_8cpp_source.html#l00415">HardwareManager.cpp:415</a></div></div>
<div class="ttc" id="aclass_hardware_manager_html_a6a90392542468cb4d057b7e1aa3b2aad"><div class="ttname"><a href="class_hardware_manager.html#a6a90392542468cb4d057b7e1aa3b2aad">HardwareManager::hardwareManagerPollIntervalMS</a></div><div class="ttdeci">const unsigned long hardwareManagerPollIntervalMS</div><div class="ttdef"><b>Definition</b> <a href="#l00037">HardwareManager.h:37</a></div></div>
<div class="ttc" id="aclass_hardware_manager_html_a6f45e846ef082a37a2bd2d3edf9efb5b"><div class="ttname"><a href="class_hardware_manager.html#a6f45e846ef082a37a2bd2d3edf9efb5b">HardwareManager::loop</a></div><div class="ttdeci">void loop()</div><div class="ttdoc">Main polling loop, throttled to a fixed interval.</div><div class="ttdef"><b>Definition</b> <a href="_hardware_manager_8cpp_source.html#l00164">HardwareManager.cpp:164</a></div></div>
<div class="ttc" id="aclass_hardware_manager_html_a73027e69fad5aa613c3fe4ed0af7b6da"><div class="ttname"><a href="class_hardware_manager.html#a73027e69fad5aa613c3fe4ed0af7b6da">HardwareManager::buttonStateChanged</a></div><div class="ttdeci">bool buttonStateChanged(uint index, bool bDirection, bool bClearFlag)</div><div class="ttdoc">Detects state changes on buttons.</div><div class="ttdef"><b>Definition</b> <a href="_hardware_manager_8cpp_source.html#l00304">HardwareManager.cpp:304</a></div></div>
<div class="ttc" id="aclass_hardware_manager_html_a75f06e4bc04d08d6be6e61bc7e3880c9"><div class="ttname"><a href="class_hardware_manager.html#a75f06e4bc04d08d6be6e61bc7e3880c9">HardwareManager::recentCommands</a></div><div class="ttdeci">std::vector&lt; SentCommand &gt; recentCommands</div><div class="ttdoc">Rolling log of recently sent PG-800 commands.</div><div class="ttdef"><b>Definition</b> <a href="#l00067">HardwareManager.h:67</a></div></div>
<div class="ttc" id="aclass_hardware_manager_html_a7777c52d0ef47ddf60e84beeedf39cc0"><div class="ttname"><a href="class_hardware_manager.html#a7777c52d0ef47ddf60e84beeedf39cc0">HardwareManager::resetEncoder</a></div><div class="ttdeci">void resetEncoder(uint i)</div><div class="ttdoc">Resets the encoderâ€™s internal count to a specific value.</div><div class="ttdef"><b>Definition</b> <a href="_hardware_manager_8cpp_source.html#l00375">HardwareManager.cpp:375</a></div></div>
<div class="ttc" id="aclass_hardware_manager_html_a8ad6a46ff803f39bbe5c7b99d5dc1118"><div class="ttname"><a href="class_hardware_manager.html#a8ad6a46ff803f39bbe5c7b99d5dc1118">HardwareManager::analogInPins</a></div><div class="ttdeci">const uint8_t analogInPins[NUM_MUXES]</div><div class="ttdoc">ADC pins corresponding to each MUX.</div><div class="ttdef"><b>Definition</b> <a href="#l00064">HardwareManager.h:64</a></div></div>
<div class="ttc" id="aclass_hardware_manager_html_a8ccfd2a833eb6826587dba7a4d97c331"><div class="ttname"><a href="class_hardware_manager.html#a8ccfd2a833eb6826587dba7a4d97c331">HardwareManager::knobChanged</a></div><div class="ttdeci">bool knobChanged(int i)</div><div class="ttdoc">Detects change in knob value.</div><div class="ttdef"><b>Definition</b> <a href="_hardware_manager_8cpp_source.html#l00156">HardwareManager.cpp:156</a></div></div>
<div class="ttc" id="aclass_hardware_manager_html_a8f6720aad631557b7254da5f7ff356ed"><div class="ttname"><a href="class_hardware_manager.html#a8f6720aad631557b7254da5f7ff356ed">HardwareManager::AnalogValues</a></div><div class="ttdeci">uint16_t AnalogValues[16][NUM_MUXES]</div><div class="ttdoc">Latest analog readings from all knobs.</div><div class="ttdef"><b>Definition</b> <a href="#l00043">HardwareManager.h:43</a></div></div>
<div class="ttc" id="aclass_hardware_manager_html_a9b7836f6542d76f66a18dd266c8ff268"><div class="ttname"><a href="class_hardware_manager.html#a9b7836f6542d76f66a18dd266c8ff268">HardwareManager::lastPotScanTime</a></div><div class="ttdeci">long lastPotScanTime</div><div class="ttdef"><b>Definition</b> <a href="#l00059">HardwareManager.h:59</a></div></div>
<div class="ttc" id="aclass_hardware_manager_html_a9e49dcb61d28890a831708d669eebed6"><div class="ttname"><a href="class_hardware_manager.html#a9e49dcb61d28890a831708d669eebed6">HardwareManager::saveLedState</a></div><div class="ttdeci">void saveLedState()</div><div class="ttdoc">Saves the current LED state to internal memory.</div><div class="ttdef"><b>Definition</b> <a href="_hardware_manager_8cpp_source.html#l00520">HardwareManager.cpp:520</a></div></div>
<div class="ttc" id="aclass_hardware_manager_html_aaa16c700ab58fcc9b2b8a33ff4f3090d"><div class="ttname"><a href="class_hardware_manager.html#aaa16c700ab58fcc9b2b8a33ff4f3090d">HardwareManager::getEncoderValue</a></div><div class="ttdeci">long getEncoderValue()</div><div class="ttdoc">Returns raw encoder position.</div><div class="ttdef"><b>Definition</b> <a href="_hardware_manager_8cpp_source.html#l00407">HardwareManager.cpp:407</a></div></div>
<div class="ttc" id="aclass_hardware_manager_html_aac5863c15f10f28dc888d496eadf0d70"><div class="ttname"><a href="class_hardware_manager.html#aac5863c15f10f28dc888d496eadf0d70">HardwareManager::restoreLedState</a></div><div class="ttdeci">void restoreLedState()</div><div class="ttdoc">Restores the previously saved LED state.</div><div class="ttdef"><b>Definition</b> <a href="_hardware_manager_8cpp_source.html#l00527">HardwareManager.cpp:527</a></div></div>
<div class="ttc" id="aclass_hardware_manager_html_aaf70a4835af8352a2af86b9679b89d41"><div class="ttname"><a href="class_hardware_manager.html#aaf70a4835af8352a2af86b9679b89d41">HardwareManager::loadKnobs</a></div><div class="ttdeci">void loadKnobs()</div><div class="ttdoc">Loads the knob configuration from EEPROM or persistent storage.</div><div class="ttdef"><b>Definition</b> <a href="_hardware_manager_8cpp_source.html#l00118">HardwareManager.cpp:118</a></div></div>
<div class="ttc" id="aclass_hardware_manager_html_ab14567b2aa576fcbe6f8be034b3c6427"><div class="ttname"><a href="class_hardware_manager.html#ab14567b2aa576fcbe6f8be034b3c6427">HardwareManager::prevLedState</a></div><div class="ttdeci">uint8_t prevLedState</div><div class="ttdoc">Bitfield representing previous LED state.</div><div class="ttdef"><b>Definition</b> <a href="#l00050">HardwareManager.h:50</a></div></div>
<div class="ttc" id="aclass_hardware_manager_html_ab2810a18f676cb33b5696d59a61caf1b"><div class="ttname"><a href="class_hardware_manager.html#ab2810a18f676cb33b5696d59a61caf1b">HardwareManager::gatherPotentiometerValues</a></div><div class="ttdeci">void gatherPotentiometerValues()</div><div class="ttdoc">Reads and stores current potentiometer values.</div><div class="ttdef"><b>Definition</b> <a href="_hardware_manager_8cpp_source.html#l00337">HardwareManager.cpp:337</a></div></div>
<div class="ttc" id="aclass_hardware_manager_html_ab9756835f0b098ac288628f4c4139ca2"><div class="ttname"><a href="class_hardware_manager.html#ab9756835f0b098ac288628f4c4139ca2">HardwareManager::knobConfigurations</a></div><div class="ttdeci">knobConfig knobConfigurations[NUM_KNOBS]</div><div class="ttdoc">Current knob-to-parameter mapping.</div><div class="ttdef"><b>Definition</b> <a href="#l00070">HardwareManager.h:70</a></div></div>
<div class="ttc" id="aclass_hardware_manager_html_abd678fae41765624bb05aed23f7a1785"><div class="ttname"><a href="class_hardware_manager.html#abd678fae41765624bb05aed23f7a1785">HardwareManager::redIsLit</a></div><div class="ttdeci">bool redIsLit(uint buttonId)</div><div class="ttdoc">Checks if the red LED is lit for a given button.</div><div class="ttdef"><b>Definition</b> <a href="_hardware_manager_8cpp_source.html#l00240">HardwareManager.cpp:240</a></div></div>
<div class="ttc" id="aclass_hardware_manager_html_ac05c3327a4bedb62f953d15f64c98348"><div class="ttname"><a href="class_hardware_manager.html#ac05c3327a4bedb62f953d15f64c98348">HardwareManager::isButtonPressed</a></div><div class="ttdeci">bool isButtonPressed(uint index)</div><div class="ttdoc">Returns true if the specified button is currently pressed.</div><div class="ttdef"><b>Definition</b> <a href="_hardware_manager_8cpp_source.html#l00200">HardwareManager.cpp:200</a></div></div>
<div class="ttc" id="aclass_hardware_manager_html_ac54dcfe2d8157035648e18095430633d"><div class="ttname"><a href="class_hardware_manager.html#ac54dcfe2d8157035648e18095430633d">HardwareManager::enablePins</a></div><div class="ttdeci">uint enablePins[NUM_MUXES]</div><div class="ttdoc">Enable lines for each analog multiplexer.</div><div class="ttdef"><b>Definition</b> <a href="#l00040">HardwareManager.h:40</a></div></div>
<div class="ttc" id="aclass_hardware_manager_html_ac803df51783435becad4e0719e3de1d3"><div class="ttname"><a href="class_hardware_manager.html#ac803df51783435becad4e0719e3de1d3">HardwareManager::bPrevEncoderBtn</a></div><div class="ttdeci">bool bPrevEncoderBtn</div><div class="ttdoc">Previous encoder button state.</div><div class="ttdef"><b>Definition</b> <a href="#l00054">HardwareManager.h:54</a></div></div>
<div class="ttc" id="aclass_hardware_manager_html_acbee566327ea9e237566823f46dfcac5"><div class="ttname"><a href="class_hardware_manager.html#acbee566327ea9e237566823f46dfcac5">HardwareManager::init</a></div><div class="ttdeci">void init()</div><div class="ttdoc">Initializes hardware peripherals: GPIO, ADC, encoder, etc.</div><div class="ttdef"><b>Definition</b> <a href="_hardware_manager_8cpp_source.html#l00028">HardwareManager.cpp:28</a></div></div>
<div class="ttc" id="aclass_hardware_manager_html_acc9496217a58084ae0af83c58cf658ea"><div class="ttname"><a href="class_hardware_manager.html#acc9496217a58084ae0af83c58cf658ea">HardwareManager::sendParameter</a></div><div class="ttdeci">void sendParameter(uint8_t paramID, uint8_t value)</div><div class="ttdoc">Sends a parameter command over the serial protocol.</div><div class="ttdef"><b>Definition</b> <a href="_hardware_manager_8cpp_source.html#l00444">HardwareManager.cpp:444</a></div></div>
<div class="ttc" id="aclass_hardware_manager_html_acf8e46d72eb8cbdf2df757c212d65036"><div class="ttname"><a href="class_hardware_manager.html#acf8e46d72eb8cbdf2df757c212d65036">HardwareManager::lastKnobConfig</a></div><div class="ttdeci">knobConfig lastKnobConfig</div><div class="ttdoc">Most recent configuration state.</div><div class="ttdef"><b>Definition</b> <a href="#l00072">HardwareManager.h:72</a></div></div>
<div class="ttc" id="aclass_hardware_manager_html_acfc375a757daaa27f18d76c67f18307f"><div class="ttname"><a href="class_hardware_manager.html#acfc375a757daaa27f18d76c67f18307f">HardwareManager::sendBuffer</a></div><div class="ttdeci">static volatile uint16_t sendBuffer</div><div class="ttdoc">Serial transmission buffer.</div><div class="ttdef"><b>Definition</b> <a href="#l00069">HardwareManager.h:69</a></div></div>
<div class="ttc" id="aclass_hardware_manager_html_ad30a99fa8e93d030b058e41f6e60dcae"><div class="ttname"><a href="class_hardware_manager.html#ad30a99fa8e93d030b058e41f6e60dcae">HardwareManager::prevButtonStates</a></div><div class="ttdeci">uint8_t prevButtonStates[NUM_BUTTONS]</div><div class="ttdoc">Previous digital button states.</div><div class="ttdef"><b>Definition</b> <a href="#l00047">HardwareManager.h:47</a></div></div>
<div class="ttc" id="aclass_hardware_manager_html_ae270bdec0bf6dbb5a0558aec3858c5ce"><div class="ttname"><a href="class_hardware_manager.html#ae270bdec0bf6dbb5a0558aec3858c5ce">HardwareManager::ledstate</a></div><div class="ttdeci">uint8_t ledstate</div><div class="ttdoc">Bitfield representing current LED state.</div><div class="ttdef"><b>Definition</b> <a href="#l00049">HardwareManager.h:49</a></div></div>
<div class="ttc" id="aclass_hardware_manager_html_ae436f35ee0851ca0dad3f0f0c9ad83ea"><div class="ttname"><a href="class_hardware_manager.html#ae436f35ee0851ca0dad3f0f0c9ad83ea">HardwareManager::onPG800ClockFall</a></div><div class="ttdeci">static void onPG800ClockFall()</div><div class="ttdoc">ISR for clocking out serial bits.</div><div class="ttdef"><b>Definition</b> <a href="_hardware_manager_8cpp_source.html#l00493">HardwareManager.cpp:493</a></div></div>
<div class="ttc" id="aclass_hardware_manager_html_aef067455e10624433ddd360794012151"><div class="ttname"><a href="class_hardware_manager.html#aef067455e10624433ddd360794012151">HardwareManager::setAddressPins</a></div><div class="ttdeci">void setAddressPins(uint val)</div><div class="ttdoc">Sets the MUX address lines.</div><div class="ttdef"><b>Definition</b> <a href="_hardware_manager_8cpp_source.html#l00362">HardwareManager.cpp:362</a></div></div>
<div class="ttc" id="aclass_hardware_manager_html_af204c2f4a3e3e12dbd79a9c910f5979c"><div class="ttname"><a href="class_hardware_manager.html#af204c2f4a3e3e12dbd79a9c910f5979c">HardwareManager::getKnobConfiguration</a></div><div class="ttdeci">knobConfig getKnobConfiguration(uint i)</div><div class="ttdoc">Retrieves the configuration associated with a given knob.</div><div class="ttdef"><b>Definition</b> <a href="_hardware_manager_8cpp_source.html#l00537">HardwareManager.cpp:537</a></div></div>
<div class="ttc" id="aclass_hardware_manager_html_af4761cefe4c6093de549ae7e5dde75b9"><div class="ttname"><a href="class_hardware_manager.html#af4761cefe4c6093de549ae7e5dde75b9">HardwareManager::lastEncoderPosition</a></div><div class="ttdeci">long lastEncoderPosition</div><div class="ttdoc">Last recorded rotary encoder position.</div><div class="ttdef"><b>Definition</b> <a href="#l00057">HardwareManager.h:57</a></div></div>
<div class="ttc" id="adefines_8h_html"><div class="ttname"><a href="defines_8h.html">defines.h</a></div><div class="ttdoc">Hardware pin definitions and global constants for JMR800-V2.</div></div>
<div class="ttc" id="adefines_8h_html_a006a61e230d20d998a18bf2fbf562947"><div class="ttname"><a href="defines_8h.html#a006a61e230d20d998a18bf2fbf562947">NUM_MUXES</a></div><div class="ttdeci">#define NUM_MUXES</div><div class="ttdef"><b>Definition</b> <a href="defines_8h_source.html#l00032">defines.h:32</a></div></div>
<div class="ttc" id="adefines_8h_html_a080eb3794855f7da383bb3d59aa51b86"><div class="ttname"><a href="defines_8h.html#a080eb3794855f7da383bb3d59aa51b86">PUSH_BTN_SW3_PIN</a></div><div class="ttdeci">#define PUSH_BTN_SW3_PIN</div><div class="ttdef"><b>Definition</b> <a href="defines_8h_source.html#l00044">defines.h:44</a></div></div>
<div class="ttc" id="adefines_8h_html_a185a9265a6f3f9c91ed062d5e5998ee9"><div class="ttname"><a href="defines_8h.html#a185a9265a6f3f9c91ed062d5e5998ee9">U3_ANALOG_IN_PIN</a></div><div class="ttdeci">#define U3_ANALOG_IN_PIN</div><div class="ttdef"><b>Definition</b> <a href="defines_8h_source.html#l00022">defines.h:22</a></div></div>
<div class="ttc" id="adefines_8h_html_a1ee5f4c034a6dbd7f5f9d30a7c7621d7"><div class="ttname"><a href="defines_8h.html#a1ee5f4c034a6dbd7f5f9d30a7c7621d7">PUSH_BTN_SW1_PIN</a></div><div class="ttdeci">#define PUSH_BTN_SW1_PIN</div><div class="ttdef"><b>Definition</b> <a href="defines_8h_source.html#l00046">defines.h:46</a></div></div>
<div class="ttc" id="adefines_8h_html_a3e2406b11040fab176d3ae938bb36fb4"><div class="ttname"><a href="defines_8h.html#a3e2406b11040fab176d3ae938bb36fb4">PUSH_BTN_SW2_PIN</a></div><div class="ttdeci">#define PUSH_BTN_SW2_PIN</div><div class="ttdef"><b>Definition</b> <a href="defines_8h_source.html#l00045">defines.h:45</a></div></div>
<div class="ttc" id="adefines_8h_html_a44723db4e11f34a0ad8759574d637e1d"><div class="ttname"><a href="defines_8h.html#a44723db4e11f34a0ad8759574d637e1d">S0_PIN</a></div><div class="ttdeci">#define S0_PIN</div><div class="ttdef"><b>Definition</b> <a href="defines_8h_source.html#l00027">defines.h:27</a></div></div>
<div class="ttc" id="adefines_8h_html_a45add6b39f5b0c0137de978b90e26b5d"><div class="ttname"><a href="defines_8h.html#a45add6b39f5b0c0137de978b90e26b5d">NUM_BUTTONS</a></div><div class="ttdeci">#define NUM_BUTTONS</div><div class="ttdef"><b>Definition</b> <a href="defines_8h_source.html#l00049">defines.h:49</a></div></div>
<div class="ttc" id="adefines_8h_html_a541f931e7d08042d778592d4f38bd403"><div class="ttname"><a href="defines_8h.html#a541f931e7d08042d778592d4f38bd403">PUSH_BTN_SW4_PIN</a></div><div class="ttdeci">#define PUSH_BTN_SW4_PIN</div><div class="ttdef"><b>Definition</b> <a href="defines_8h_source.html#l00043">defines.h:43</a></div></div>
<div class="ttc" id="adefines_8h_html_a558ac377e980e1436207d781314b30b4"><div class="ttname"><a href="defines_8h.html#a558ac377e980e1436207d781314b30b4">U4_ANALOG_IN_PIN</a></div><div class="ttdeci">#define U4_ANALOG_IN_PIN</div><div class="ttdef"><b>Definition</b> <a href="defines_8h_source.html#l00023">defines.h:23</a></div></div>
<div class="ttc" id="adefines_8h_html_a58393f61259eb81a9d1094281e512fa4"><div class="ttname"><a href="defines_8h.html#a58393f61259eb81a9d1094281e512fa4">U3_ENABLE_PIN</a></div><div class="ttdeci">#define U3_ENABLE_PIN</div><div class="ttdef"><b>Definition</b> <a href="defines_8h_source.html#l00016">defines.h:16</a></div></div>
<div class="ttc" id="adefines_8h_html_a764b847ee654d0221b8cb323de5d95c7"><div class="ttname"><a href="defines_8h.html#a764b847ee654d0221b8cb323de5d95c7">U6_ANALOG_IN_PIN</a></div><div class="ttdeci">#define U6_ANALOG_IN_PIN</div><div class="ttdef"><b>Definition</b> <a href="defines_8h_source.html#l00024">defines.h:24</a></div></div>
<div class="ttc" id="adefines_8h_html_a7d38c282cd5f6ec99da0b3b37b97315d"><div class="ttname"><a href="defines_8h.html#a7d38c282cd5f6ec99da0b3b37b97315d">U2_ENABLE_PIN</a></div><div class="ttdeci">#define U2_ENABLE_PIN</div><div class="ttdef"><b>Definition</b> <a href="defines_8h_source.html#l00015">defines.h:15</a></div></div>
<div class="ttc" id="adefines_8h_html_a801cef580ffdeccbec9c07edd619158d"><div class="ttname"><a href="defines_8h.html#a801cef580ffdeccbec9c07edd619158d">U2_ANALOG_IN_PIN</a></div><div class="ttdeci">#define U2_ANALOG_IN_PIN</div><div class="ttdef"><b>Definition</b> <a href="defines_8h_source.html#l00021">defines.h:21</a></div></div>
<div class="ttc" id="adefines_8h_html_a8766620bcdd3b4ffdae69e99def6458e"><div class="ttname"><a href="defines_8h.html#a8766620bcdd3b4ffdae69e99def6458e">S1_PIN</a></div><div class="ttdeci">#define S1_PIN</div><div class="ttdef"><b>Definition</b> <a href="defines_8h_source.html#l00028">defines.h:28</a></div></div>
<div class="ttc" id="adefines_8h_html_a87f435a777fc58e1d3c4630bb8e632b3"><div class="ttname"><a href="defines_8h.html#a87f435a777fc58e1d3c4630bb8e632b3">NUM_KNOBS</a></div><div class="ttdeci">#define NUM_KNOBS</div><div class="ttdef"><b>Definition</b> <a href="defines_8h_source.html#l00069">defines.h:69</a></div></div>
<div class="ttc" id="adefines_8h_html_a9db36ac7b0b3e89a85b6233ed896eac9"><div class="ttname"><a href="defines_8h.html#a9db36ac7b0b3e89a85b6233ed896eac9">U4_ENABLE_PIN</a></div><div class="ttdeci">#define U4_ENABLE_PIN</div><div class="ttdef"><b>Definition</b> <a href="defines_8h_source.html#l00017">defines.h:17</a></div></div>
<div class="ttc" id="adefines_8h_html_ad50338afe7b10c1aa188fde925109853"><div class="ttname"><a href="defines_8h.html#ad50338afe7b10c1aa188fde925109853">S2_PIN</a></div><div class="ttdeci">#define S2_PIN</div><div class="ttdef"><b>Definition</b> <a href="defines_8h_source.html#l00029">defines.h:29</a></div></div>
<div class="ttc" id="adefines_8h_html_ad75a02c26f8ce2df2c12638f44f3e709"><div class="ttname"><a href="defines_8h.html#ad75a02c26f8ce2df2c12638f44f3e709">U6_ENABLE_PIN</a></div><div class="ttdeci">#define U6_ENABLE_PIN</div><div class="ttdef"><b>Definition</b> <a href="defines_8h_source.html#l00018">defines.h:18</a></div></div>
<div class="ttc" id="adefines_8h_html_aeff05ff93deed7ec7c197dfded858bda"><div class="ttname"><a href="defines_8h.html#aeff05ff93deed7ec7c197dfded858bda">S3_PIN</a></div><div class="ttdeci">#define S3_PIN</div><div class="ttdef"><b>Definition</b> <a href="defines_8h_source.html#l00030">defines.h:30</a></div></div>
<div class="ttc" id="astruct_sent_command_html"><div class="ttname"><a href="struct_sent_command.html">SentCommand</a></div><div class="ttdoc">Represents a parameter-value pair sent to external hardware along with a timestamp.</div><div class="ttdef"><b>Definition</b> <a href="#l00023">HardwareManager.h:23</a></div></div>
<div class="ttc" id="astruct_sent_command_html_a26d089417d8c3c5680dcc12d98cdbd4c"><div class="ttname"><a href="struct_sent_command.html#a26d089417d8c3c5680dcc12d98cdbd4c">SentCommand::timestamp</a></div><div class="ttdeci">unsigned long timestamp</div><div class="ttdoc">Timestamp when the command was sent.</div><div class="ttdef"><b>Definition</b> <a href="#l00026">HardwareManager.h:26</a></div></div>
<div class="ttc" id="astruct_sent_command_html_a6bd03f07367c4a7a8033c4f2f8183fe1"><div class="ttname"><a href="struct_sent_command.html#a6bd03f07367c4a7a8033c4f2f8183fe1">SentCommand::paramID</a></div><div class="ttdeci">uint8_t paramID</div><div class="ttdoc">PG-800 parameter ID.</div><div class="ttdef"><b>Definition</b> <a href="#l00024">HardwareManager.h:24</a></div></div>
<div class="ttc" id="astruct_sent_command_html_aa7341c37b068a4b56a108fb90990d102"><div class="ttname"><a href="struct_sent_command.html#aa7341c37b068a4b56a108fb90990d102">SentCommand::value</a></div><div class="ttdeci">uint8_t value</div><div class="ttdoc">Value associated with the parameter.</div><div class="ttdef"><b>Definition</b> <a href="#l00025">HardwareManager.h:25</a></div></div>
<div class="ttc" id="astructknob_config_html"><div class="ttname"><a href="structknob_config.html">knobConfig</a></div><div class="ttdef"><b>Definition</b> <a href="defines_8h_source.html#l00075">defines.h:75</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a href="_hardware_manager_8h.html">HardwareManager.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
